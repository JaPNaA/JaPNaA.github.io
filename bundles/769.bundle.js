"use strict";(self.webpackChunkjapnaa_github_io=self.webpackChunkjapnaa_github_io||[]).push([[769],{769:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});const r="hexagonsTitle__jVGr7hexagonsTitle";var n,o=i(7584),s=i(8416),a=i(7923),h=i(533),p=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const l=function(t){function e(e){var i=t.call(this,e)||this;return i.moveIfInRadius(),i.y*=1-i.size,i.size*=i.y*i.y*o.Z.hexagons.positionScaleBias+.5,i}return p(e,t),e.prototype.moveIfInRadius=function(){var t=.225,e=this.x-.5,i=this.y-.5,r=Math.atan2(i,e);Math.sqrt(e*e+i*i)<t&&(this.x+=Math.cos(r)*t,this.y+=Math.sin(r)*t)},e}(h.Z);var c=i(721);const d=function(){function t(t,e){this.maxWidth=0,this.maxHeight=0,this.resource=c.Z.loadImage(o.Z.path.img.logo),this.img=this.resource.data,this.resize(t,e)}return t.prototype.resize=function(e,i){this.maxWidth=e-2*t.padding,this.maxHeight=i-2*t.padding},t.prototype.ready=function(){var t=this;return this.resource.loaded?Promise.resolve():new Promise((function(e,i){t.resource.onLoad((function(){return e()})).onError((function(){return i()}))}))},t.prototype.draw=function(t,e,i){var r=Math.min(this.maxWidth/this.img.width/2.5,this.maxHeight/this.img.height/2.5),n=this.img.width*r,s=this.img.height*r;if(t.save(),o.Z.settings.darkMode&&(t.filter="invert(1)"),0!==n&&0!==s||!this.img.complete)t.drawImage(this.img,e-n/2,i-s/2,n,s);else{try{t.drawImage(this.img,e-n/2,i-s/2)}catch(t){}t.font="16px 'Roboto', Arial",t.fillStyle="#000000",t.fillText("You're using a pretty bad browser (probably Internet Explorer 11).",e-128,i-64),t.fillText("For that, you get a misaligned logo. (it's a feature not a bug)",e-128,i-46)}t.restore()},t.padding=32,t}();var u=i(1761),g=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),f=function(t){function e(e,i){var r=t.call(this,e,l)||this;return r.autoClearOnDraw=!1,r.hexagonsTitle=i,r.logo=new d(r.width,r.height),r.transitionStep=0,r.drawLogoOver=!1,r.gradient=r.createGradient(),r.logo.ready().then((function(){r.requestDraw()})),r}return g(e,t),e.prototype.noTransitionIn=function(){this.transitionStep=1},e.prototype.updateSize=function(){var e=this.hexagonsTitle.width,i=this.hexagonsTitle.height;this.logo.resize(e,i),this.renderSystem.setCenter(e/2,i/2),this.gradient=this.createGradient(),this.drawLogoOver=i>e||i<480,t.prototype.updateSize.call(this)},e.prototype.tick=function(i){t.prototype.tick.call(this,i),this.transitionStep+=i/e.transitionInTime,this.transitionStep>1?this.transitionStep=1:this.requestDraw(),this.updateZoomTransitionState()},e.prototype.draw=function(e){var i=this.hexagonsTitle.width,r=this.hexagonsTitle.height;e.clearRect(0,0,this.width,this.height),e.fillStyle=this.gradient,e.fillRect(0,0,i,r),this.drawLogoOver||this.logo.draw(e,i/2,r/2),t.prototype.draw.call(this,e),this.drawLogoOver&&this.logo.draw(e,i/2,r/2)},e.prototype.getNewSize=function(){return e.getSizeOfHexagonsTitle(this.hexagonsTitle)},e.prototype.isVisible=function(){var t=this.canvas.getBoundingClientRect();return t.top+t.height>0},e.getSizeOfHexagonsTitle=function(t){return t?[innerWidth+t.overSizeWidth,innerHeight+t.overSizeHeight]:[innerWidth,innerHeight]},e.prototype.createGradient=function(){var t=this.getContext().createLinearGradient(0,0,0,this.hexagonsTitle.height);return t.addColorStop(0,"rgba(0, 255, 138, 0.239)"),t.addColorStop(1,"rgba(0, 0, 0, 0)"),t},e.prototype.updateZoomTransitionState=function(){for(var t=(0,u.Vs)(this.transitionStep),e=0;e<this.hexagonLayers.length;e++){var i=this.hexagonLayers[e],r=o.Z.hexagons.zoomDistance*(e+1)*(1-t)+1;t<o.Z.hexagons.fadeInSpeed?i.opacity=1*t/o.Z.hexagons.fadeInSpeed:i.opacity=1,i.scale=r}},e.transitionInTime=1800,e}(a.Z);const y=f;var v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();const w=function(t){function e(e,i){var n=t.call(this)||this;return n.cssName=r,n.parent=i,n.app=e,n.elm=document.createElement("div"),n.width=e.width,n.height=e.height,n.overSizeHeight=0,n.overSizeWidth=0,n.renderer=new y(e,n),n.registeredEventHandlers=!1,n}return v(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.renderer.appendTo(this.elm),this.setSize(this.renderer.width,this.renderer.height)},e.prototype.registerEventHandlers=function(){this.registeredEventHandlers||(this.scrollHandler=this.scrollHandler.bind(this),this.parent.addEventListener("scroll",this.scrollHandler,{passive:!0}),this.resizeHandler=this.resizeHandler.bind(this),this.renderer.onResize(this.resizeHandler),this.settingsChangeHandler=this.settingsChangeHandler.bind(this),o.Z.onSettingsChanged(this.settingsChangeHandler),this.registeredEventHandlers=!0)},e.prototype.destory=function(){t.prototype.destory.call(this),this.renderer.destory(),this.registeredEventHandlers&&(this.parent.removeEventListener("scroll",this.scrollHandler),this.renderer.offResize(this.resizeHandler),o.Z.offSettingsChanged(this.settingsChangeHandler))},e.prototype.setOverSize=function(t,e){this.overSizeHeight=e,this.overSizeWidth=t,this.resizeHandler()},e.prototype.preventTransitionIn=function(){this.renderer.noTransitionIn()},e.prototype.appendToParent=function(){this.parent.appendChild(this.elm)},e.prototype.resizeHandler=function(){this.setSize(this.app.width,this.app.height),this.renderer.updateSize()},e.prototype.setSize=function(t,e){this.width=t,this.height=e,this.elm.style.width=t+"px",this.elm.style.height=e+"px"},e.prototype.settingsChangeHandler=function(){this.renderer.requestDraw()},e.prototype.scrollHandler=function(){o.Z.isMobile||this.renderer.scrolled(this.parent.scrollTop)},e}(s.Z)}}]);