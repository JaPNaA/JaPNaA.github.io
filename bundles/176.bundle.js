"use strict";(self.webpackChunkjapnaa_github_io=self.webpackChunkjapnaa_github_io||[]).push([[176],{7121:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(1761);var o,i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};const s=function(t){function e(e,n){var r=t.call(this)||this;return r.privateData=n,r.initalScrollTop=n.scrollTop||0,r.elm=e.scrollingElm,r}return i(e,t),e.prototype.setup=function(){this.privateData.scrollTop=this.privateData.scrollTop||0},e.prototype.destory=function(){},e.prototype.updatePrivateData=function(){this.privateData.scrollTop=this.elm.scrollTop},e.prototype.apply=function(){this.elm.scrollBy(0,this.initalScrollTop)},e.prototype.applyScrollDownWithTransition=function(){return a(this,void 0,void 0,(function(){function t(c){var s=(c-a)/e.scrollTransitionSpeed;s<0?(s=0,requestAnimationFrame(t)):s>1?s=1:requestAnimationFrame(t);var l=n*(0,r.S1)(s)-i;o.scrollBy(0,l),i+=Math.floor(l)}var n,o,i,a;return c(this,(function(e){return(n=this.initalScrollTop-this.elm.scrollTop)<=0||(o=this.elm,i=0,a=performance.now(),requestAnimationFrame(t)),[2]}))}))},e.prototype.hasScrolled=function(){return 0!==this.initalScrollTop},e.scrollTransitionSpeed=800,e}((function(){}))},7815:(t,e,n)=>{function r(t){var e=open(t,"_blank");return e&&(e.opener=null),e}n.d(e,{Z:()=>r})},7992:(t,e,n)=>{function r(t,e,n){return e.classList.add(t.beforeTransitionIn),requestAnimationFrame((function(){return requestAnimationFrame((function(){return e.classList.add(t.afterTransitionIn)}))})),new Promise((function(r){setTimeout((function(){e.classList.remove(t.beforeTransitionIn),e.classList.remove(t.afterTransitionIn),r()}),n)}))}n.d(e,{Z:()=>r})},7176:(t,e,n)=>{n.r(e),n.d(e,{default:()=>N});const r={ProjectInfo:"ProjectInfo__kA2YwInfo",beforeTransitionIn:"beforeTransitionIn__AaTnfInfo",afterTransitionIn:"afterTransitionIn__nfiqVInfo",projectInfoV1:"projectInfoV1__vIbhkInfo",projectInfoV2:"projectInfoV2__OiRjDInfo"};var o=n(1951),i=n(3735),a=n(8416);const c={projectJSONv2Elm:"projectJSONv2Elm__DcVofcardV2",body:"body__CqgoEcardV2",image:"image__Fdbx0cardV2",imageInner:"imageInner__heJKScardV2",viewProject:"viewProject__Kgtr_cardV2",viewSource:"viewSource__pFx6VcardV2",background:"background__9e5I_cardV2",backgroundImageContainer:"backgroundImageContainer__tXZXXcardV2",backgroundImage:"backgroundImage___j0z_cardV2",hexagonsContainer:"hexagonsContainer__MCHpgcardV2",contentContainer:"contentContainer__OCd8OcardV2",mainContent:"mainContent__br_WAcardV2",headContainer:"headContainer__DmrLNcardV2",head:"head__Q78lxcardV2",title:"title__olxmDcardV2",bigViewProjectButton:"bigViewProjectButton__K08qhcardV2",scrollIndicatorContainer:"scrollIndicatorContainer__rH2G_cardV2",scrollIndicator:"scrollIndicator__k5GZicardV2",hidden:"hidden__EmJ22cardV2",markdown:"markdown__Rzh8LcardV2"};var s=n(1995),l=n(7584),u=n(9606);var p=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*(\d+)\s*)?\)/;const d="hexagonsCorner__JXNEBhexagonsCorner";var h,f=n(7923),y=n(5957),v=(h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},h(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),e.prototype.getNewSize=function(){var t=innerWidth*(2/3);return t<e.widthBreakpoint&&(t=innerWidth>e.widthBreakpoint?e.widthBreakpoint:innerWidth),[t,innerHeight]},e.prototype.createHexagonLayer=function(t,n){return new y.Z(t,n,e.hexagonsAmount)},e.widthBreakpoint=576,e.hexagonsAmount=15,e}(f.Z);var g=n(533),b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const w=function(t){function e(e){for(var n=t.call(this,e)||this;n.isPositionInvalid();)n.x=Math.random(),n.y=Math.random();var r=1-n.y;return n.size*=r*r*l.Z.hexagons.positionScaleBias+.5,n.x+=n.size,n.y-=n.size,n}return b(e,t),e.prototype.isPositionInvalid=function(){return this.y>2*this.x*this.x+.1},e}(g.Z);var _=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const C=function(t){function e(e,n,r){var o=t.call(this)||this;return o.cssName=d,o.app=e,o.scrollableParent=n,o.elm=document.createElement("div"),o.renderer=new m(e,w,r),o}return _(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.renderer.appendTo(this.elm),this.renderer.requestDraw(),this.addEventHandlers()},e.prototype.destory=function(){t.prototype.destory.call(this),this.renderer.destory(),this.app.events.offResize(this.resizeHandler),l.Z.isMobile||this.scrollableParent.removeEventListener("scroll",this.scrollHandler)},e.prototype.addEventHandlers=function(){this.resizeHandler=this.resizeHandler.bind(this),this.app.events.onResize(this.resizeHandler),l.Z.isMobile||(this.scrollHandler=this.scrollHandler.bind(this),this.scrollableParent.addEventListener("scroll",this.scrollHandler))},e.prototype.resizeHandler=function(){this.renderer.updateSize()},e.prototype.scrollHandler=function(){this.renderer.scrolled(this.scrollableParent.scrollTop)},e}(a.Z);var I=n(1049),j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x={image:function(t){var e=document.createElement("div");e.classList.add(c.image);var n=document.createElement("div");n.classList.add(c.imageInner),e.appendChild(n);var r=document.createElement("img");if(r.src=l.Z.path.thingy+t.src,r.alt=t.caption?"Image: "+t.caption:"Image",n.appendChild(r),t.caption){var o=document.createElement("div");o.innerHTML=t.caption,o.setAttribute("aria-hidden","true"),n.appendChild(o)}t.pixels&&(r.style.imageRendering="pixelated",r.style.imageRendering="crisp-edges");return e},markdown:function(t){var e=document.createElement("div");return e.classList.add(c.markdown),e.innerHTML=t.text,e},"view-project":function(t){var e=document.createElement("a");e.innerText="View Project",e.href=(0,I.Z)(t.href,l.Z.path.thingy);var n=document.createElement("div");return n.classList.add(c.viewProject),n.appendChild(e),n},"view-source":function(t){var e=document.createElement("a");e.innerText="View Source",e.href=t.href;var n=document.createElement("div");return n.classList.add(c.viewSource),n.appendChild(e),n}};const k=function(t){var e,n,r=document.createDocumentFragment();try{for(var o=j(t),i=o.next();!i.done;i=o.next()){var a=i.value,c=x[a.type];c?r.appendChild(c(a)):console.warn("Unknown element type "+a.type+". Element ignored")}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r};var E=n(937),S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},P=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},O=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const Z=function(t){function e(e,n){var r=t.call(this)||this;return r.cssName=c.projectJSONv2Elm,r.app=e,r.project=n,r.scrollingElm=r.elm=document.createElement("div"),r.background=r.createBackground(),r.hexagonsContainer=r.createHexagonsContainer(),r.backgroundImage=r.createBackgroundImage(),r.backgroundImageContainer=r.createBackgroundImageContainer(),r.headContainer=r.createHeadContainer(),r.head=r.createHead(),r.title=r.createTitle(n.head.name),r.bigViewProjectButton=r.createBigViewProjectButton(),r.scrollIndicator=r.createScrollIndicator(),r.contentContainer=r.createContentContainer(),r.mainContent=r.createMainContent(),r.body=r.createBody(),r.hue=g.Z.baseHue,r.applyStyles(),r.hexagons=new C(e,r.elm,r.hue),r}return S(e,t),e.prototype.canScroll=function(){return this.background.clientHeight>this.elm.clientHeight},e.prototype.getTitle=function(){return this.project.head.name},e.prototype.setup=function(){t.prototype.setup.call(this),this.loadBody(),this.elm.appendChild(this.background),this.background.appendChild(this.backgroundImageContainer),this.backgroundImageContainer.appendChild(this.backgroundImage),this.background.appendChild(this.hexagonsContainer),this.hexagons.appendTo(this.hexagonsContainer),this.head.appendChild(this.title),this.head.appendChild(this.bigViewProjectButton),this.headContainer.appendChild(this.head),this.headContainer.appendChild(this.scrollIndicator),this.mainContent.appendChild(this.headContainer),this.mainContent.appendChild(this.body),this.contentContainer.appendChild(this.mainContent),this.background.appendChild(this.contentContainer),this.hexagons.setup(),this.addEventHandlers()},e.prototype.destory=function(){t.prototype.destory.call(this),this.hexagons.destory(),this.app.events.offResize(this.resizeHandler)},e.prototype.addEventHandlers=function(){this.elm.addEventListener("scroll",this.scrollHandler.bind(this)),this.elm.addEventListener("click",this.clickHandler.bind(this)),this.resizeHandler=this.resizeHandler.bind(this),this.app.events.onResize(this.resizeHandler),this.resizeHandler()},e.prototype.createBackground=function(){var t=document.createElement("div");return t.classList.add(c.background),t},e.prototype.createHexagonsContainer=function(){var t=document.createElement("div");return t.classList.add(c.hexagonsContainer),t},e.prototype.createBackgroundImage=function(){var t=document.createElement("div");return t.classList.add(c.backgroundImage),t},e.prototype.createBackgroundImageContainer=function(){var t=document.createElement("div");return t.classList.add(c.backgroundImageContainer),t},e.prototype.createHeadContainer=function(){var t=document.createElement("div");return t.classList.add(c.headContainer),t},e.prototype.createHead=function(){var t=document.createElement("div");return t.classList.add(c.head),t},e.prototype.createTitle=function(t){var e=document.createElement("h1");return e.classList.add(c.title),e.innerText=t,e},e.prototype.createBigViewProjectButton=function(){var t=document.createElement("a");return t.innerText="Open Project",t.classList.add(c.bigViewProjectButton),this.project.head.link?t.href=(0,I.Z)(this.project.head.link,l.Z.path.thingy):t.classList.add(c.hidden),t},e.prototype.createScrollIndicator=function(){var t=document.createElement("img");t.classList.add(c.scrollIndicator),t.src=l.Z.path.img.upArrow;var e=document.createElement("div");return e.appendChild(t),e.classList.add(c.scrollIndicatorContainer),e},e.prototype.createContentContainer=function(){var t=document.createElement("div");return t.classList.add(c.contentContainer),t},e.prototype.createMainContent=function(){var t=document.createElement("div");return t.classList.add(c.mainContent),t},e.prototype.createBody=function(){var t=document.createElement("div");return t.classList.add(c.body),t.setAttribute("role","main"),t.setAttribute("aria-hidden","false"),t},e.prototype.loadBody=function(){return T(this,void 0,void 0,(function(){var t;return P(this,(function(e){switch(e.label){case 0:return[4,i.Z.getV2CardBody(this.project)];case 1:return t=e.sent(),this.body.appendChild(k(t)),[2]}}))}))},e.prototype.applyStyles=function(){!function(t,e){if(t.head.background)for(var n=t.head.background.length-1;n>=0;n--){var r=t.head.background[n];(0,s.Z)(r)?e.style.backgroundImage=(0,u.Z)(l.Z.path.thingy,r):e.style.backgroundColor=r}}(this.project,this.backgroundImage),this.project.head.textColor&&(this.elm.style.color=this.project.head.textColor),this.project.head.accentColor&&this.applyAccentColor(this.project.head.accentColor)},e.prototype.applyAccentColor=function(t){this.title.style.color=t;var e=this.title.style.color;if(e){var n=O(function(t){var e=t.match(p);if(!e)throw new Error("Invalid color");return e[5]?[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[5])]:[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}(e),3),r=n[0],o=n[1],i=n[2];if(function(t,e,n){return.299*t+.587*e+.114*n<=150}(r,o,i)){var a=function(t,e,n,r){var o=1-r;return[t*o,e*o,n*o]}(r,o,i,.3);this.title.style.textShadow="none",this.title.style.color=function(t,e,n,r){return r?"rgba("+t+","+e+","+n+","+r+")":"rgb("+t+","+e+","+n+")"}(a[0],a[1],a[2]),this.title.style.backgroundColor="transparent"}else this.title.style.color="#ffffff";this.hue=function(t,e,n){var r=t/255,o=e/255,i=n/255,a=Math.max(r,o,i),c=Math.min(r,o,i);if(a!==c){var s=a-c;switch(a){case r:return 60*((o-i)/s+(o<i?6:0));case o:return 60*((i-r)/s+2);case i:return 60*((r-o)/s+4)}}}(r,o,i)||this.hue,this.background.style.backgroundColor=e}},e.prototype.scrollHandler=function(){l.Z.isMobile||(this.backgroundImage.style.transform="translateY("+this.elm.scrollTop/2+"px)")},e.prototype.resizeHandler=function(){this.backgroundImageContainer.style.height=this.app.height+"px"},e.prototype.clickHandler=function(t){return T(this,void 0,void 0,(function(){return P(this,(function(e){return t.target instanceof HTMLImageElement&&(0,E.Z)(this.app,t.target),[2]}))}))},e}(a.Z);var H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const V=function(t){function e(e,n){var o=t.call(this)||this;return o.cssName=r.projectInfoV2,o.elm=document.createElement("div"),o.projectElm=new Z(e,n),o.scrollingElm=o.projectElm.scrollingElm,o}return H(e,t),e.prototype.canScroll=function(){return this.projectElm.canScroll()},e.prototype.getTitle=function(){return this.projectElm.getTitle()},e.prototype.setup=function(){t.prototype.setup.call(this),this.projectElm.setup(),this.projectElm.appendTo(this.elm)},e.prototype.destory=function(){t.prototype.destory.call(this),this.projectElm.destory()},e}(a.Z);var L=n(7992),B=n(7121),A=n(721),z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},M=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};const N=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.cssName=r.ProjectInfo,o.isFullPage=!0,o.elm=document.createElement("div"),n.stateData&&(o.loadingPromise=o.loadProjectFromStateData(n.stateData)),o}return z(e,t),e.prototype.setProject=function(t,e,n){this.project=t,this.projectYear=e,this.projectIndex=n},e.prototype.getState=function(){return void 0!==this.projectIndex&&void 0!==this.projectYear?"".concat(this.projectYear,".").concat(this.projectIndex):void 0},e.prototype.getTitle=function(){if(this.widget)return this.widget.getTitle()},e.prototype.canScroll=function(){return!!this.widget&&this.widget.canScroll()},e.prototype.transitionFadeIn=function(){return(0,L.Z)(r,this.elm,e.transitionInTime)},e.prototype.setup=function(){return D(this,void 0,void 0,(function(){var e=this;return M(this,(function(n){switch(n.label){case 0:return this.loadingPromise?[4,this.loadingPromise]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!this.project)throw new Error("Project not set");return this.widget=new V(this.app,this.project),this.viewComponents.push(this.saveScroll=new B.Z(this.widget,this.privateData)),t.prototype.setup.call(this),this.updateState(),this.widget.setup(),this.widget.appendTo(this.elm),this.saveScroll.apply(),A.Z.nextDone().then((function(t){return e.saveScroll.applyScrollDownWithTransition()})),[2]}}))}))},e.prototype.destory=function(){return D(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return[4,t.prototype.destory.call(this)];case 1:return e.sent(),this.widget&&this.widget.destory(),[2]}}))}))},e.prototype.loadProjectFromStateData=function(t){return D(this,void 0,void 0,(function(){var e,n,r,o,i,a;return M(this,(function(c){switch(c.label){case 0:if(e=F(t.split("."),2),n=e[0],r=e[1],o=parseInt(n),i=parseInt(r),void 0===o||void 0===i)throw new Error("Invalid stateData format");return a=this.setProject,[4,this.getCard(n,i)];case 1:return a.apply(this,[c.sent(),o,i]),this.loadingPromise=void 0,[2]}}))}))},e.prototype.getCard=function(t,e){return D(this,void 0,void 0,(function(){return M(this,(function(n){switch(n.label){case 0:return[4,i.Z.getCardByYearAndIndex(t,e)];case 1:return[2,n.sent()]}}))}))},e.transitionInTime=150,e}(o.Z)},1995:(t,e,n)=>{n.d(e,{Z:()=>o});var r=/^.*(gradient|url).*\(.+?\)$/i;function o(t){return r.test(t)}},9606:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(1049);function o(t,e){if(!e.toLowerCase().startsWith("url("))return e;var n=e.slice(4,-1);return"url("+(0,r.Z)(n,t)+")"}},937:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(7584),o=n(7815),i=n(5034),a=n(439),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},s=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function l(t,e){return c(this,void 0,void 0,(function(){var n,c;return s(this,(function(s){switch(s.label){case 0:return r.Z.isIOS?((0,o.Z)((0,i.Z)((0,a.Z)("ImageView",e.src))),[3,4]):[3,1];case 1:return r.Z.isIE?((0,o.Z)(e.src),[3,4]):[3,2];case 2:return[4,t.top().views.open("ImageView")];case 3:n=s.sent(),c=e.getBoundingClientRect(),n.setInitalTransform(c.left,c.top,c.width/e.naturalWidth),n.setImageSrc(e.src),n.transitionIn(),s.label=4;case 4:return[2]}}))}))}}}]);