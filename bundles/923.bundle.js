"use strict";(self.webpackChunkjapnaa_github_io=self.webpackChunkjapnaa_github_io||[]).push([[923,269,610],{605:(t,e,r)=>{r.r(e),r.d(e,{default:()=>T});const n="Search__FYENjSearch",o="inputContainer__LyPYtSearch",i="input__JMW3dSearch";var a=r(3735),u=r(7419),s=r(9953),l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};const h=function(){function t(){this.documents=[],this.allWords=new Map}return t.prototype.addDocument=function(e,r){var n,o,i,a,u,s,h=new Map;try{for(var f=l(r),p=f.next();!p.done;p=f.next()){var d=c(p.value,2),y=d[0],v=d[1],m=t.stringOrArrayToTokens(v),w=y/m.length;try{for(var b=(i=void 0,l(m)),g=b.next();!g.done;g=b.next()){var S=g.value;if(!t.isStopWord(S)){var x=h.get(S);x?h.set(S,x+w):h.set(S,w)}}}catch(t){i={error:t}}finally{try{g&&!g.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}try{for(var T=l(h),C=T.next();!C.done;C=T.next()){var j=c(C.value,2),k=j[0],E=j[1],_=this.allWords.get(k);_?this.allWords.set(k,_+E):this.allWords.set(k,E)}}catch(t){u={error:t}}finally{try{C&&!C.done&&(s=T.return)&&s.call(T)}finally{if(u)throw u.error}}return this.documents.push([e,h]),h},t.prototype.query=function(e){var r,n,o=t.stringOrArrayToTokens(e),i=o.pop(),a=o.length,u=[];try{for(var s=l(this.documents),h=s.next();!h.done;h=s.next()){var f=c(h.value,2),p=f[0],d=f[1],y=this.calcScore(o,a,d);i&&(y+=this.calcPartialTokenScore(i,d)),y>.1&&u.push([p,y])}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return u.sort((function(t,e){return e[1]-t[1]})),u.map((function(t){return t[0]}))},t.prototype.calcScore=function(t,e,r){var n,o,i=0;try{for(var a=l(t),u=a.next();!u.done;u=a.next()){var s=u.value,c=r.get(s);if(c)i+=c/this.allWords.get(s)/e}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i},t.prototype.calcPartialTokenScore=function(e,r){var n,o,i=0;try{for(var a=l(r),u=a.next();!u.done;u=a.next()){var h=c(u.value,2),f=h[0],p=h[1],d=(0,s.Z)(e,f);if(!(d<0||d>t.looseMatchScoreCutoff))i+=p/this.allWords.get(f)/(d+1)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i},t.stringOrArrayToTokens=function(e){return Array.isArray(e)?e.map((function(t){return t.toLowerCase()})):t.stringToTokens(e).filter((function(e){return e&&!t.isStopWord(e)}))},t.stringToTokens=function(t){return t.toLowerCase().split(/[^a-z0-9]+/g)},t.isStopWord=function(t){return this.isStopWordMap[t]},t.isStopWordMap={a:!0,about:!0,above:!0,after:!0,again:!0,against:!0,all:!0,am:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,before:!0,being:!0,below:!0,between:!0,both:!0,but:!0,by:!0,can:!0,did:!0,do:!0,does:!0,doing:!0,don:!0,down:!0,during:!0,each:!0,few:!0,for:!0,from:!0,further:!0,had:!0,has:!0,have:!0,having:!0,he:!0,her:!0,here:!0,hers:!0,herself:!0,him:!0,himself:!0,his:!0,how:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,itself:!0,just:!0,me:!0,more:!0,most:!0,my:!0,myself:!0,no:!0,nor:!0,not:!0,now:!0,of:!0,off:!0,on:!0,once:!0,only:!0,or:!0,other:!0,our:!0,ours:!0,ourselves:!0,out:!0,over:!0,own:!0,s:!0,same:!0,she:!0,should:!0,so:!0,some:!0,such:!0,t:!0,than:!0,that:!0,the:!0,their:!0,theirs:!0,them:!0,themselves:!0,then:!0,there:!0,these:!0,they:!0,this:!0,those:!0,through:!0,to:!0,too:!0,under:!0,until:!0,up:!0,very:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,you:!0,your:!0,yours:!0,yourself:!0,yourselves:!0},t.looseMatchScoreCutoff=8,t}();var f,p=r(1951),d=r(9707),y=r(7584),v=(f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},f(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},w=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(s){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}},b=function(t){return this instanceof b?(this.v=t,this):new b(t)},g=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||u(t,e)}))})}function u(t,e){try{(r=o[t](e)).value instanceof b?Promise.resolve(r.value.v).then(s,l):c(i[0][2],r)}catch(t){c(i[0][3],t)}var r}function s(t){u("next",t)}function l(t){u("throw",t)}function c(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}},S=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};const T=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.cssName=n,o.isFullPage=!0,o.query=r.stateData||"",o.elm=document.createElement("div"),o.inputContainer=o.createInputContainer(),o.inputElm=o.createInput(),o.resultsContainer=document.createElement("div"),o.updateTimeoutHandle=-1,o.tfidfCache=new Map,o}return v(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.inputContainer.appendChild(this.inputElm),this.elm.appendChild(this.inputContainer),this.elm.appendChild(this.resultsContainer),this.inputElm.value=this.query,this.inputElm.focus(),this.addEventHandlers(),this.update()},e.prototype.destory=function(){return m(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,t.prototype.destory.call(this)];case 1:return e.sent(),this.projectsGrid&&this.projectsGrid.destory(),[2]}}))}))},e.prototype.getState=function(){if(this.query)return this.query},e.prototype.getTitle=function(){return this.query||void 0},e.prototype.setState=function(t){return this.query=t||"",this.update(),!0},e.prototype.createInputContainer=function(){var t=document.createElement("div");return t.classList.add(o),t},e.prototype.createInput=function(){var t=document.createElement("input");return t.classList.add(i),t.placeholder="Type to search...",t},e.prototype.addEventHandlers=function(){var t=this;this.inputElm.addEventListener("input",(function(){t.query=t.inputElm.value,t.updateOnTimeout()})),this.events.onResize((function(){t.projectsGrid&&t.resizeProjectsGrid(t.projectsGrid)})),this.events.onKeydown((function(e){1===e.key.length&&(t.inputElm.focus(),e.stopPropagation())}))},e.prototype.updateOnTimeout=function(){var t=this;clearTimeout(this.updateTimeoutHandle),this.updateTimeoutHandle=window.setTimeout((function(){t.update()}),e.queryDelay)},e.prototype.update=function(){this.projectsGrid&&(this.projectsGrid.destory(),(0,d.Z)(this.resultsContainer)),this.projectsGrid=new u.default(this.app,this.projectsGridCallback(this.query)),this.projectsGrid.setup(),this.resizeProjectsGrid(this.projectsGrid),this.projectsGrid.appendTo(this.resultsContainer),this.updateState()},e.prototype.resizeProjectsGrid=function(t){t.resize(this.app.width,this.app.height-e.inputHeight)},e.prototype.projectsGridCallback=function(t){return g(this,arguments,(function(){var e,r,n,o,i,u,s,l,c,h,f;return w(this,(function(p){switch(p.label){case 0:return this.query.trim().length<=0?[4,b(void 0)]:[3,2];case 1:return[2,p.sent()];case 2:return[4,b(a.Z.getProjectsIndex())];case 3:e=p.sent(),r=e.end,p.label=4;case 4:return r>=e.start?[4,b(this.getTfidf(r))]:[3,19];case 5:return n=p.sent(),[4,b(a.Z.getFileForYear(r))];case 6:o=p.sent(),i=n.query(t),p.label=7;case 7:p.trys.push([7,16,17,18]),h=void 0,u=S(i),s=u.next(),p.label=8;case 8:return s.done?[3,15]:"number"!=typeof(l=s.value)?[3,11]:[4,b({index:l,year:r,project:o.data[l]})];case 9:return[4,p.sent()];case 10:return p.sent(),[3,14];case 11:return[4,b(l)];case 12:return[4,p.sent()];case 13:p.sent(),p.label=14;case 14:return s=u.next(),[3,8];case 15:return[3,18];case 16:return c=p.sent(),h={error:c},[3,18];case 17:try{s&&!s.done&&(f=u.return)&&f.call(u)}finally{if(h)throw h.error}return[7];case 18:return r--,[3,4];case 19:return[2]}}))}))},e.prototype.getTfidf=function(t){return m(this,void 0,void 0,(function(){var e,r,n,o,i;return w(this,(function(u){switch(u.label){case 0:return(e=this.tfidfCache.get(t))?[2,e]:[4,Promise.all([a.Z.getFileForYear(t),a.Z.getLinksForYear(t)])];case 1:return r=x.apply(void 0,[u.sent(),2]),n=r[0],o=r[1],i=this.createTfIdf(n,o),this.tfidfCache.set(t,i),[2,i]}}))}))},e.prototype.createTfIdf=function(t,e){var r,n,o=new h;this.addV2ListingDocuments(o,t);try{for(var i=S(e),a=i.next();!a.done;a=i.next()){var u=a.value;o.addDocument(u,[[5,u.name],[1,u.href]])}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},e.prototype.addV2ListingDocuments=function(t,e){for(var r=0;r<e.data.length;r++){var n=e.data[r],o=[[5,n.head.name],[5,n.head.no.toString()]];n.head.tags&&o.push([3,n.head.tags]),n.head.author&&o.push([1,n.head.author]),n.head.link&&o.push([1,n.head.link]),n.head.shortDescription&&o.push([2,n.head.shortDescription]),t.addDocument(r,o)}},e.queryDelay=200,e.inputHeight=y.Z.cssVars.stickyBarHeight,e}(p.Z)},9953:(t,e,r)=>{r.d(e,{Z:()=>o});var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(t,e){var r,o,i=e.length,a=t.toLowerCase(),u=e.toLowerCase(),s=0,l=0;try{t:for(var c=n(a),h=c.next();!h.done;h=c.next()){for(var f=h.value;s<i;){if(u[s]===f){s++;continue t}l++,s++}return-1}}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return l}},9707:(t,e,r)=>{function n(t){for(;t.firstChild;)t.removeChild(t.firstChild)}r.d(e,{Z:()=>n})}}]);