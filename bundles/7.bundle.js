(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{10:function(t,e,n){"use strict";var r=n(5),o=n(3),i=n(32),a=n(53),s=n(9),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(t){return this instanceof l?(this.v=t,this):new l(t)},h=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof l?Promise.resolve(n.value.v).then(c,u):h(i[0][2],n)}catch(t){h(i[0][3],t)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function h(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}},p=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof d?d(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}},d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},y=function(){function t(){}return t.setup=function(){},t.getCardByNumber=function(t){return c(this,void 0,void 0,(function(){var e,n,r,o,s,c,l,h,p,f,y,v,w,g,m,b,x,k,S;return u(this,(function(u){switch(u.label){case 0:return[4,this.getProjectsIndex()];case 1:e=u.sent(),n=Object.keys(e.meta),u.label=2;case 2:u.trys.push([2,7,8,9]),r=d(n),o=r.next(),u.label=3;case 3:return o.done?[3,6]:(s=o.value,c=e.meta[s],t<c[0]||t>c[1]?[3,5]:[4,this.getFileForYear(s)]);case 4:if(l=u.sent(),Object(a.a)(l))try{for(b=void 0,h=d(l.data),p=h.next();!p.done;p=h.next())if((v=p.value).head.no===t)return[2,v]}catch(t){b={error:t}}finally{try{p&&!p.done&&(x=h.return)&&x.call(h)}finally{if(b)throw b.error}}else try{for(k=void 0,f=d(l.data),y=f.next();!y.done;y=f.next())if(v=y.value,Object(i.a)(v)&&v.no===t)return[2,v]}catch(t){k={error:t}}finally{try{y&&!y.done&&(S=f.return)&&S.call(f)}finally{if(k)throw k.error}}u.label=5;case 5:return o=r.next(),[3,3];case 6:return[3,9];case 7:return w=u.sent(),g={error:w},[3,9];case 8:try{o&&!o.done&&(m=r.return)&&m.call(r)}finally{if(g)throw g.error}return[7];case 9:return[2,null]}}))}))},t.getCardByYearAndIndex=function(t,e){return c(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.getFileForYear(t)];case 1:return[2,n.sent().data[e]]}}))}))},t.getV2CardBody=function(t){return c(this,void 0,void 0,(function(){return u(this,(function(e){return"string"==typeof t.body?[2,r.a.loadJSONPromise(o.a.path.content+t.body)]:[2,t.body]}))}))},t.cardAndLinkGeneratorOldestWithLocation=function(){return h(this,arguments,(function(){var t,e,n,r,o,i,a,s,c,h,p,y,v,w,g,m,b,x,k,S,H,L,E,P,T,_,C;return u(this,(function(u){switch(u.label){case 0:return[4,l(this.getLinksIndex())];case 1:t=u.sent(),u.label=2;case 2:u.trys.push([2,23,24,25]),e=d(t),n=e.next(),u.label=3;case 3:return n.done?[3,22]:(r=n.value,o=f(r,3),i=o[0],o[1],a=o[2],[4,l(Promise.all([this.getLinksForThingy(a),this.createProjectsMap(i)]))]);case 4:s=f.apply(void 0,[u.sent(),2]),c=s[0],h=s[1],p=this.yieldLinksOrProjectsIfExistsAndDeleteFromMap(c,h,a),u.label=5;case 5:u.trys.push([5,11,12,13]),P=void 0,y=d(p),v=y.next(),u.label=6;case 6:return v.done?[3,10]:(w=v.value,[4,l(w)]);case 7:return[4,u.sent()];case 8:u.sent(),u.label=9;case 9:return v=y.next(),[3,6];case 10:return[3,13];case 11:return g=u.sent(),P={error:g},[3,13];case 12:try{v&&!v.done&&(T=y.return)&&T.call(y)}finally{if(P)throw P.error}return[7];case 13:u.trys.push([13,19,20,21]),_=void 0,m=d(h),b=m.next(),u.label=14;case 14:return b.done?[3,18]:(x=f(b.value,2),x[0],k=x[1],[4,l(k)]);case 15:return[4,u.sent()];case 16:u.sent(),u.label=17;case 17:return b=m.next(),[3,14];case 18:return[3,21];case 19:return S=u.sent(),_={error:S},[3,21];case 20:try{b&&!b.done&&(C=m.return)&&C.call(m)}finally{if(_)throw _.error}return[7];case 21:return n=e.next(),[3,3];case 22:return[3,25];case 23:return H=u.sent(),L={error:H},[3,25];case 24:try{n&&!n.done&&(E=e.return)&&E.call(e)}finally{if(L)throw L.error}return[7];case 25:return[2]}}))}))},t.cardAndLinkGeneratorLatestWithLocation=function(){return h(this,arguments,(function(){var t,e,n,r,o,i,a,s,c,h,p,y,v,w,g,m,b,x,k,S,H,L;return u(this,(function(u){switch(u.label){case 0:return[4,l(this.getLinksIndex())];case 1:t=u.sent(),e=t.length-1,u.label=2;case 2:return e>=0?(n=f(t[e],3),r=n[0],n[1],o=n[2],[4,l(Promise.all([this.getLinksForThingy(o),this.createProjectsMap(r)]))]):[3,21];case 3:i=f.apply(void 0,[u.sent(),2]),a=i[0],s=i[1],c=this.yieldLinksOrProjectsIfExistsAndDeleteFromMap(a,s,o),u.label=4;case 4:u.trys.push([4,10,11,12]),k=void 0,h=d(c),p=h.next(),u.label=5;case 5:return p.done?[3,9]:(y=p.value,[4,l(y)]);case 6:return[4,u.sent()];case 7:u.sent(),u.label=8;case 8:return p=h.next(),[3,5];case 9:return[3,12];case 10:return v=u.sent(),k={error:v},[3,12];case 11:try{p&&!p.done&&(S=h.return)&&S.call(h)}finally{if(k)throw k.error}return[7];case 12:u.trys.push([12,18,19,20]),H=void 0,w=d(s),g=w.next(),u.label=13;case 13:return g.done?[3,17]:(m=f(g.value,2),m[0],b=m[1],[4,l(b)]);case 14:return[4,u.sent()];case 15:u.sent(),u.label=16;case 16:return g=w.next(),[3,13];case 17:return[3,20];case 18:return x=u.sent(),H={error:x},[3,20];case 19:try{g&&!g.done&&(L=w.return)&&L.call(w)}finally{if(H)throw H.error}return[7];case 20:return e--,[3,2];case 21:return[2]}}))}))},t.getLinksForYear=function(t){return c(this,void 0,void 0,(function(){var e,n,r,o,i,a,s,c,l,h,p,y,v,w,g,m;return u(this,(function(u){switch(u.label){case 0:return[4,this.getLinksIndex()];case 1:e=u.sent(),n=[],u.label=2;case 2:u.trys.push([2,7,8,9]),r=d(e),o=r.next(),u.label=3;case 3:return o.done?[3,6]:(i=f(o.value,3),a=i[0],i[1],s=i[2],a!==t?[3,5]:[4,this.getLinksForThingy(s)]);case 4:c=u.sent();try{for(g=void 0,l=d(c),h=l.next();!h.done;h=l.next())p=h.value,n.push(this.linkToProjectLink(s,p))}catch(t){g={error:t}}finally{try{h&&!h.done&&(m=l.return)&&m.call(l)}finally{if(g)throw g.error}}return[3,6];case 5:return o=r.next(),[3,3];case 6:return[3,9];case 7:return y=u.sent(),v={error:y},[3,9];case 8:try{o&&!o.done&&(w=r.return)&&w.call(r)}finally{if(v)throw v.error}return[7];case 9:return[2,n]}}))}))},t.createProjectsMap=function(t){return c(this,void 0,void 0,(function(){var e,n,r,o,s;return u(this,(function(c){switch(c.label){case 0:e=new Map,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.getFileForYear(t)];case 2:if(n=c.sent(),Object(a.a)(n))for(r=0;r<n.data.length;r++)(o=n.data[r]).head.link&&e.set(o.head.link,{project:o,index:r,year:t});else for(r=0;r<n.data.length;r++)o=n.data[r],Object(i.a)(o)&&e.set(o.content.link,{project:o,index:r,year:t});return[3,4];case 3:return s=c.sent(),console.warn(s),[3,4];case 4:return[2,e]}}))}))},t.yieldLinksOrProjectsIfExistsAndDeleteFromMap=function(t,e,n){var r,o,i,a,c,l,h,p,y,v;return u(this,(function(u){switch(u.label){case 0:u.trys.push([0,7,8,9]),r=d(t),o=r.next(),u.label=1;case 1:return o.done?[3,6]:(i=o.value,a=f(i,2),a[0],c=a[1],l=n+c,(h=e.get(Object(s.a)(c,n)))?(e.delete(l),[4,h]):[3,3]);case 2:return u.sent(),[3,5];case 3:return[4,this.linkToProjectLink(n,i)];case 4:u.sent(),u.label=5;case 5:return o=r.next(),[3,1];case 6:return[3,9];case 7:return p=u.sent(),y={error:p},[3,9];case 8:try{o&&!o.done&&(v=r.return)&&v.call(r)}finally{if(y)throw y.error}return[7];case 9:return[2]}}))},t.cardGeneratorOldestWithLocation=function(){return h(this,arguments,(function(){var t,e,n,r,o;return u(this,(function(i){switch(i.label){case 0:return[4,l(this.getProjectsIndex())];case 1:t=i.sent(),e=t.start,i.label=2;case 2:return e<=t.end?[4,l(this.getFileForYear(e))]:[3,9];case 3:n=i.sent(),r=0,i.label=4;case 4:return r<n.data.length?(o=n.data[r],[4,l({project:o,index:r,year:e})]):[3,8];case 5:return[4,i.sent()];case 6:i.sent(),i.label=7;case 7:return r++,[3,4];case 8:return e++,[3,2];case 9:return[2]}}))}))},t.cardGeneratorLatestWithLocation=function(){return h(this,arguments,(function(){var t,e,n,r,o;return u(this,(function(i){switch(i.label){case 0:return[4,l(this.getProjectsIndex())];case 1:t=i.sent(),e=t.end,i.label=2;case 2:return e>=t.start?[4,l(this.getFileForYear(e))]:[3,9];case 3:n=i.sent(),r=n.data.length-1,i.label=4;case 4:return r>=0?(o=n.data[r],[4,l({project:o,index:r,year:e})]):[3,8];case 5:return[4,i.sent()];case 6:i.sent(),i.label=7;case 7:return r--,[3,4];case 8:return e--,[3,2];case 9:return[2]}}))}))},t.cardGeneratorOldest=function(){return h(this,arguments,(function(){var t,e,n,r,o,i,a;return u(this,(function(s){switch(s.label){case 0:t=this.cardGeneratorOldestWithLocation(),s.label=1;case 1:s.trys.push([1,8,9,14]),e=p(t),s.label=2;case 2:return[4,l(e.next())];case 3:return(n=s.sent()).done?[3,7]:(r=n.value,[4,l(r.project)]);case 4:return[4,s.sent()];case 5:s.sent(),s.label=6;case 6:return[3,2];case 7:return[3,14];case 8:return o=s.sent(),i={error:o},[3,14];case 9:return s.trys.push([9,,12,13]),n&&!n.done&&(a=e.return)?[4,l(a.call(e))]:[3,11];case 10:s.sent(),s.label=11;case 11:return[3,13];case 12:if(i)throw i.error;return[7];case 13:return[7];case 14:return[2]}}))}))},t.cardGeneratorLatest=function(){return h(this,arguments,(function(){var t,e,n,r,o,i,a;return u(this,(function(s){switch(s.label){case 0:t=this.cardGeneratorLatestWithLocation(),s.label=1;case 1:s.trys.push([1,8,9,14]),e=p(t),s.label=2;case 2:return[4,l(e.next())];case 3:return(n=s.sent()).done?[3,7]:(r=n.value,[4,l(r.project)]);case 4:return[4,s.sent()];case 5:s.sent(),s.label=6;case 6:return[3,2];case 7:return[3,14];case 8:return o=s.sent(),i={error:o},[3,14];case 9:return s.trys.push([9,,12,13]),n&&!n.done&&(a=e.return)?[4,l(a.call(e))]:[3,11];case 10:s.sent(),s.label=11;case 11:return[3,13];case 12:if(i)throw i.error;return[7];case 13:return[7];case 14:return[2]}}))}))},t.getFileForYear=function(t){return c(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(i){switch(i.label){case 0:return[4,this.getProjectsIndex()];case 1:return e=i.sent(),[2,new Promise((function(i,a){return r.a.loadJSON(o.a.path.content+n.getPathForYear(e,t)).onLoad((function(t){return i(t.data)})).onError((function(){return a(new Error("Failed to load file for year "+t))}))}))]}}))}))},t.getProjectsIndex=function(){return c(this,void 0,void 0,(function(){var t;return u(this,(function(e){return this.projectsIndex?[2,this.projectsIndex]:this.projectsIndexPromise?[2,this.projectsIndexPromise]:(t=new Promise((function(t){return r.a.loadJSON(o.a.path.contentIndex).onLoad((function(e){return t(e.data)}))})),this.projectsIndexPromise=t,[2,t])}))}))},t.getLinksIndex=function(){return c(this,void 0,void 0,(function(){var t;return u(this,(function(e){return this.linksIndex?[2,this.linksIndex]:this.linksIndexPromise?[2,this.linksIndexPromise]:(t=new Promise((function(t){return r.a.loadJSON(Object(s.a)(o.a.path.repo.thingy+o.a.path.repo.linksIndex,o.a.path.thingy)).onLoad((function(e){return t(e.data)}))})),this.linksIndexPromise=t,[2,t])}))}))},t.getLinksForThingy=function(t){return c(this,void 0,void 0,(function(){return u(this,(function(e){return[2,new Promise((function(e,n){return r.a.loadJSON(Object(s.a)(t+o.a.path.repo.linksIndex,o.a.path.thingy)).onLoad((function(t){return e(t.data)})).onError((function(){return n(new Error("Failed to load links in "+t))}))}))]}))}))},t.getPathForYear=function(t,e){return t.meta[e][2]},t.linkToProjectLink=function(t,e){return{name:e[0],href:Object(s.a)(t+e[1],o.a.path.thingy)}},t}();e.a=y},127:function(t,e,n){"use strict";n.r(e);var r=n(31),o=n.n(r),i=n(95),a=n(10),s=n(5),c=n(42),u=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(){function t(){this.restored=!1,this._canRestore=!1}return t.prototype.fromURL=function(t,e,n){return u(this,void 0,void 0,(function(){var r;return l(this,(function(o){switch(o.label){case 0:return(r=Object(c.a)(e))?(r.directURL=e,[4,this.view(t,n||r)]):[2];case 1:return o.sent(),[2]}}))}))},t.prototype.view=function(t,e){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return(n=void 0!==e.id&&t.views.getById(e.id))&&n.viewPath===e.viewPath&&n.setState(e.stateData)?(t.views.closeAllViewsExcept(n),[3,3]):[3,1];case 1:return[4,t.views.switchAndInit(e.viewPath,e)];case 2:r.sent(),r.label=3;case 3:return this.restored=!0,[2]}}))}))},t}(),p=n(16),d=function(){function t(){this.restore=new h,this.siteTitle=document.title,this.currentURL=location.href,this.stateEmpty=!0,this.initalSearch=location.search,this.initalHash=location.hash,this.initalURL=location.href,this.initalState=history.state,this.setToOldURL()}return t.prototype.restoreFromRedirect=function(t){var e=void 0;try{e=JSON.parse(this.initalState)}catch(t){console.warn("Failed to get state",t)}return this.restore.fromURL(t,this.initalURL,e)},t.prototype.setTitle=function(t){this.siteTitle=t},t.prototype.setState=function(t){var e=this.getTitleAndURLFromState(t),n=e.title,r=e.url;this.basedReplaceState(JSON.stringify(t),n,r),this.currentURL=r,document.title=n,this.stateEmpty=!1},t.prototype.pushState=function(t){if(this.stateEmpty)return this.setState(t);var e=this.getTitleAndURLFromState(t),n=e.title,r=e.url;this.basedPushState(JSON.stringify(t),n,r),this.currentURL=r,document.title=n},t.prototype.clearState=function(){this.basedReplaceState(null,this.siteTitle,"/"),this.currentURL="/"},t.prototype.getTitleAndURLFromState=function(t){return{title:(t.viewTitle?t.viewTitle+" in ":"")+this.siteTitle+(t.viewPath?"."+t.viewPath.replace(/\//g,"."):""),url:Object(p.a)(t)}},t.prototype.setToOldURL=function(){var t=new URLSearchParams(this.initalSearch),e=t.get("u"),n=t.get("s");n&&(this.initalState=n),"1"===t.get("fromredirect")&&e?(this.initalURL=e,this.restore._canRestore=!0,history.replaceState(n,this.siteTitle,e)):this.initalHash&&(this.restore._canRestore=!0,history.replaceState(n,this.siteTitle,"/"+this.initalHash))},t.prototype.basedReplaceState=function(t,e,n){history.replaceState(t,e,n)},t.prototype.basedPushState=function(t,e,n){history.pushState(t,e,n)},t}(),f=function(){function t(){this.history=[]}return t.prototype.push=function(e){if(!this.hasID(e))throw new Error("Cannot use AppState without ID");this.history.push(e),this.history.length>t.maxLength&&this.history.shift()},t.prototype.find=function(t){return this.hasID(t)?this.findWithID(t):this.findWithoutID(t)},t.prototype.findByID=function(t){for(var e=this.history.length-1;e>=0;e--)if(this.history[e].id===t)return this.history[e]},t.prototype.findWithID=function(t){for(var e=this.history.length-1;e>=0;e--)if(this.history[e].id===t.id&&this.history[e].viewPath.toLowerCase()===t.viewPath.toLowerCase()&&this.history[e].stateData===t.stateData)return this.history[e]},t.prototype.findWithoutID=function(t){for(var e=this.history.length-1;e>=0;e--)if(this.history[e].viewPath.toLowerCase()===t.viewPath.toLowerCase()&&this.history[e].stateData===t.stateData)return this.history[e]},t.prototype.hasID=function(t){return void 0!==t.id},t.maxLength=100,t}(),y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},v=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w=function(){function t(t,e){this.restored=!1,this.app=t,this.appEvents=e,this.controller=new d,this.history=new f,this.frozen=!1,this.attachEventHandlers()}return t.prototype.setTitle=function(t){this.controller.setTitle(t)},t.prototype.restoreIfShould=function(){return y(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,this.controller.restoreFromRedirect(this.app)];case 1:return t.sent(),this.restored=this.controller.restore.restored,[2]}}))}))},t.prototype.pushHistory=function(t){var e=this.createAppState(t);this.currView&&this.currView!==t&&this.updateViewIfIsCurrent(this.currView),this.history.push(e),this.pushState(e),this.currView=t},t.prototype.updateViewIfIsCurrent=function(t){t===this.currView&&this.updateView(t)},t.prototype.update=function(){var t=this.app.views.topFull();t&&this.updateView(t)},t.prototype.updateView=function(t){var e=this.history.findByID(t.id),n=this.createAppState(t);if(!e)throw new Error("Cannot update state with unregistered view");this.setURLState(n),e.stateData=n.stateData,e.privateData=n.privateData},t.prototype.attachEventHandlers=function(){this.topFulViewChangeHandler=this.topFulViewChangeHandler.bind(this),this.appEvents.onTopFullViewChange(this.topFulViewChangeHandler),this.popStateHandler=this.popStateHandler.bind(this),addEventListener("popstate",this.popStateHandler)},t.prototype.topFulViewChangeHandler=function(){this.update()},t.prototype.popStateHandler=function(t){return y(this,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return e=location.href,Object(c.a)(e)?(n=t.state&&JSON.parse(t.state),this.frozen=!0,this.controller.currentURL=e,n?[4,this.controller.restore.view(this.app,n)]:[3,2]):(console.warn("URL has no state"),[2]);case 1:return r.sent(),[3,4];case 2:return[4,this.controller.restore.fromURL(this.app,e)];case 3:r.sent(),r.label=4;case 4:return this.frozen=!1,[2]}}))}))},t.prototype.setURLState=function(t){this.frozen||this.controller.setState(t)},t.prototype.pushState=function(t){this.frozen||this.controller.pushState(t)},t.prototype.createAppState=function(t){return{viewPath:t.viewPath,stateData:t.getState(),viewTitle:t.getTitle(),directURL:this.controller.currentURL,id:t.id,privateData:t.getPrivateData()}},t}(),g=n(60),m=n(6),b=n(55),x=n(3),k=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function S(){return[innerWidth,innerHeight]}var H,L=function(){function t(t){this.sizeGetter=t||S;var e=k(this.sizeGetter(),2),n=e[0],r=e[1];this.width=n,this.height=r,this.resizePollsLeft=0,this.resizesLeft=0,this.isWatchingForResize=!1,this.resizeHandlers=new m.a,this.setup()}return t.prototype.destory=function(){removeEventListener("resize",this.resizeHandler)},t.prototype.resizeOrWatch=function(){if(x.a.isIOS)this.watchForResize();else{var t=k(this.sizeGetter(),2),e=t[0],n=t[1];this.resize(e,n)}},t.prototype.onResize=function(t){this.resizeHandlers.add(t)},t.prototype.offResize=function(t){this.resizeHandlers.remove(t)},t.prototype.setup=function(){this.resizeHandler=this.resizeHandler.bind(this),addEventListener("resize",this.resizeHandler)},t.prototype.resizeHandler=function(){this.resizeOrWatch()},t.prototype.resize=function(t,e){this.width=t,this.height=e,this.resizeHandlers.dispatch(Object(b.a)(t,e))},t.prototype.didResize=function(){var t=k(this.sizeGetter(),2),e=t[0],n=t[1];return e!==this.width||n!==this.height},t.prototype.watchForResize=function(){this.resizePollsLeft=t.resizeWatchTTL,this.resizesLeft=t.resizesAfterResize,this.isWatchingForResize||this.resizeWatchLoop()},t.prototype.resizeWatchLoop=function(){var t=this;if(this.resizePollsLeft--,this.isWatchingForResize=!0,this.didResize()||this.resizePollsLeft<=0){var e=k(this.sizeGetter(),2),n=e[0],r=e[1];if(this.resize(n,r),this.resizesLeft--,this.resizesLeft<=0)return void(this.isWatchingForResize=!1)}requestAnimationFrame((function(){return t.resizeWatchLoop()}))},t.resizeWatchTTL=120,t.resizesAfterResize=2,t}(),E=(H=function(t,e){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},T=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_=function(t){function e(){var e=t.call(this)||this;return e.autoRestoreState=!0,e.url=new w(e,e.events),e.resizeWatcher=new L,e}return E(e,t),e.prototype.setup=function(){return P(this,void 0,void 0,(function(){return T(this,(function(e){return t.prototype.setup.call(this),this.addEventHandlers(),this.createSplashScreen(),this.restoreState(),this.url.setTitle(this.title),document.body.appendChild(this.mainElm),[2]}))}))},e.prototype.destory=function(){return P(this,void 0,void 0,(function(){return T(this,(function(t){return this.resizeWatcher.offResize(this.resizeHandler),removeEventListener("keydown",this.keydownHandler),this.resizeWatcher.destory(),[2]}))}))},e.prototype.addEventHandlers=function(){this.resizeHandler=this.resizeHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.beforeunloadHandler=this.beforeunloadHandler.bind(this),this.resizeWatcher.onResize(this.resizeHandler),addEventListener("keydown",this.keydownHandler),addEventListener("beforeunload",this.beforeunloadHandler)},e.prototype.resizeHandler=function(t){this.width=t.x,this.height=t.y,this.events.dispatchResize()},e.prototype.keydownHandler=function(t){this.events.dispatchKeydown(t)},e.prototype.beforeunloadHandler=function(){this.url.update()},e.prototype.createSplashScreen=function(){return P(this,void 0,void 0,(function(){var t,e,n=this;return T(this,(function(r){switch(r.label){case 0:return this.splashScreenView?(t=this.splashScreenView,[4,this.views.open(t)]):[2];case 1:return e=r.sent(),s.a.nextDone().then((function(){e.active&&n.views.close(e)})),[2]}}))}))},e.prototype.restoreState=function(){return P(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return this.autoRestoreState?[4,this.url.restoreIfShould()]:[2];case 1:return t.sent(),this.url.restored||(this.indexView?this.views.open(this.indexView):this.views.open("")),[2]}}))}))},e}(g.a),C=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},O=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},z=function(){function t(){this.styleElm=document.createElement("style"),this.styleElm.type="text/css",this.enabled=!1}return t.prototype.enable=function(t){return C(this,void 0,void 0,(function(){var e;return O(this,(function(n){switch(n.label){case 0:return this.styleElm.innerHTML="",[4,s.a.loadTextPromise(t)];case 1:return e=n.sent(),this.styleElm.innerHTML=e,this.enabled||document.head.appendChild(this.styleElm),this.enabled=!0,[2]}}))}))},t.prototype.disable=function(){this.enabled&&(document.head.removeChild(this.styleElm),this.enabled=!1)},t}(),R=n(33),V=n(8),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e){return t.call(this,"where is view: "+e)||this}return j(e,t),e}(R.a),I=n(4),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(t){function e(e){return t.call(this,"where is widget: "+e)||this}return D(e,t),e}(R.a),M=function(){function t(t){this.map=new Map(t&&t.map((function(t){return[t[0].toLowerCase(),t[1]]})))}return t.prototype.get=function(t){return this.map.get(t.toLowerCase())},t.prototype.set=function(t,e){return this.map.set(t.toLowerCase(),e),this},t.prototype.clear=function(){return this.map.clear()},t.prototype.delete=function(t){return this.map.delete(t)},t.prototype.forEach=function(t,e){return this.map.forEach(t)},t.prototype.has=function(t){return this.map.has(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),t.prototype[Symbol.iterator]=function(){return this.map[Symbol.iterator]()},t.prototype.entries=function(){return this.map.entries()},t.prototype.keys=function(){return this.map.keys()},t.prototype.values=function(){return this.map.values()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.map[Symbol.toStringTag]},enumerable:!0,configurable:!0}),t}(),A=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},W=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},N=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U=function(){function t(t,e){this.routes=new M(t),this.self=e}return t.prototype.list=function(){return this.routes.keys()},t.prototype.fixViewPath=function(t){return t.toLowerCase()},t.prototype.getView=function(t){return A(this,void 0,void 0,(function(){var e,n;return W(this,(function(r){switch(r.label){case 0:return"function"!=typeof(e=this.resolveViewOrWidget(t))?[3,2]:[4,e()];case 1:if((n=r.sent()).default.prototype instanceof V.a)return[2,n.default];throw new F(t);case 2:throw new F(t);case 3:return[2]}}))}))},t.prototype.getWidget=function(t){return A(this,void 0,void 0,(function(){var e,n;return W(this,(function(r){switch(r.label){case 0:return"function"!=typeof(e=this.resolveViewOrWidget(t))?[3,2]:[4,e()];case 1:if((n=r.sent()).default.prototype instanceof I.a)return[2,n.default];throw new B(t);case 2:throw new B(t);case 3:return[2]}}))}))},t.prototype.getRouter=function(t){return this.resolveRouter(t)},t.prototype.resolveViewOrWidget=function(t){var e=this.splitPath(t),n=e.pop(),r=this.resolveRouter(e);return 0===n.length?r.self:r.routes.get(n)},t.prototype.resolveRouter=function(e){var n,r,o=this;try{for(var i=N(e),a=i.next();!a.done;a=i.next()){var s=a.value,c=o.routes.get(s);if(!(c instanceof t))throw new R.a("directory '"+s+"' in '"+e+"'");o=c}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o},t.prototype.splitPath=function(e){return e.split(t.pathSplitter)},t.pathSplitter="/",t}(),G=new U([["Browse",function(){return Promise.all([n.e(1),n.e(14)]).then(n.bind(null,124))}],["Directory",function(){return n.e(15).then(n.bind(null,130))}],["Info",function(){return n.e(8).then(n.bind(null,125))}],["Search",function(){return Promise.all([n.e(1),n.e(12)]).then(n.bind(null,131))}]]),K=new U([["project",G],["About",function(){return Promise.all([n.e(3),n.e(13)]).then(n.bind(null,113))}],["CommandPalette",function(){return n.e(10).then(n.bind(null,129))}],["ErrorView",function(){return n.e(24).then(n.bind(null,114))}],["FrameView",function(){return n.e(17).then(n.bind(null,115))}],["ImageView",function(){return n.e(9).then(n.bind(null,126))}],["Menu",function(){return n.e(11).then(n.bind(null,116))}],["Overview",function(){return Promise.all([n.e(3),n.e(4),n.e(5)]).then(n.bind(null,117))}],["ShortURL",function(){return n.e(18).then(n.bind(null,118))}],["SplashScreen",function(){return n.e(25).then(n.bind(null,119))}],["Test",function(){return n.e(2).then(n.bind(null,120))}],["View404",function(){return n.e(26).then(n.bind(null,121))}],["WidgetView",function(){return n.e(27).then(n.bind(null,122))}],["Checkbox",function(){return n.e(28).then(n.bind(null,41))}],["Global",function(){return Promise.resolve().then(n.bind(null,95))}],["HexagonsBackground",function(){return n.e(29).then(n.bind(null,128))}],["HexagonsTitle",function(){return n.e(4).then(n.bind(null,96))}],["HTMLView",function(){return n.e(3).then(n.bind(null,59))}],["IFrame",function(){return n.e(30).then(n.bind(null,35))}],["LatestProjects",function(){return Promise.all([n.e(1),n.e(20)]).then(n.bind(null,132))}],["ProjectCard",function(){return n.e(1).then(n.bind(null,39))}],["ProjectsGrid",function(){return Promise.all([n.e(1),n.e(21)]).then(n.bind(null,40))}],["RandomQuotes",function(){return n.e(22).then(n.bind(null,123))}],["Settings",function(){return n.e(19).then(n.bind(null,61))}],["StickyBar",function(){return n.e(23).then(n.bind(null,56))}]],(function(){return Promise.all([n.e(3),n.e(4),n.e(5)]).then(n.bind(null,117))})),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},X=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Y=function(t){function e(){var e=t.call(this)||this;return e.view404="view404",e.splashScreenView="SplashScreen",e.viewError="ErrorView",e.autoRestoreState=!0,e.title=x.a.title,e.routes=K,e.globalWidget=new i.default(e),e.siteThemes=new z,x.a.isMobile?e.mainElm.classList.add(o.a.mobile):e.mainElm.classList.add(o.a.notMobile),x.a.developmentMode&&!x.a.isMobile||e.loadFonts(),e.updateTheme(),e}return q(e,t),e.prototype.setup=function(){return J(this,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,t.prototype.setup.call(this)];case 1:return e.sent(),this.globalWidget.setup(),this.globalWidget.appendTo(this.mainElm),this.settingsChangeHandler=this.settingsChangeHandler.bind(this),x.a.onSettingsChanged(this.settingsChangeHandler),[2]}}))}))},e.prototype.destory=function(){return J(this,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return[4,t.prototype.destory.call(this)];case 1:return e.sent(),x.a.offSettingsChanged(this.settingsChangeHandler),[2]}}))}))},e.prototype.settingsChangeHandler=function(){this.updateTheme()},e.prototype.loadFonts=function(){var t=document.createElement("link");t.rel="stylesheet",t.href="https://fonts.googleapis.com/css?family=Roboto:400,500,700|Share+Tech+Mono&display=swap",document.head.appendChild(t)},e.prototype.updateTheme=function(){x.a.settings.darkMode?this.siteThemes.enable(x.a.path.theme.dark):this.siteThemes.disable()},e}(_);a.a.setup();e.default=Y},16:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(9),o=n(3);function i(t){var e=t.viewPath;return t.stateData&&(e+=o.a.viewStateSeparator+encodeURIComponent(t.stateData)),Object(r.a)(e)}},17:function(t,e,n){"use strict";function r(t,e,n){return{viewPath:t,stateData:e,directURL:n}}n.d(e,"a",(function(){return r}))},23:function(t,e,n){"use strict";function r(t){return new Promise((function(e){setTimeout(e,t)}))}n.d(e,"a",(function(){return r}))},3:function(t,e,n){"use strict";var r=n(6),o=function(){this.darkMode=!1};var i=n(5),a="/ping";var s=n(24),c=n(0),u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=new(function(){function t(){var t=this;this.title="JaPNaA",this.viewStateSeparator="?",this.path={base:"",img:{hexagon:"assets/img/hexagon.svg",logo:"assets/img/japnaa-logo.svg",hamburger:"assets/img/hamburger.svg",close:"assets/img/close.svg",closeWhite:"assets/img/close-white.svg",upArrow:"assets/img/up-arrow.svg"},theme:{dark:"bundles/darkTheme.css"},view:{overview:"assets/views/overview.html",about:"assets/views/about.html"},thingy:"",repo:{notRelative:!0,thingy:"/Thingy/",thingy_:"/Thingy_",linksIndex:"index.json"},content:"assets/content/",contentIndex:"assets/content/index.json",redirectMap:"assets/content/redirects.txt"},this.hexagons={hexagonsPerLayer:50,layers:4,hexagonsSize:.32,minHexagonSize:.4,layerSizeFactor:.22,positionScaleBias:1,zoomDistance:1.2,fadeInSpeed:.2,parallaxIntensity:.5},this.cssVars={heroTransitionInTime:800,longTextContainerMaxWidth:768,stickyBarHeight:72},this.localStorageSettingsKey="JaPNaASiteSettings",this.settings=new o;var e=Object(c.a)();this.insertBaseUrl(e,this.path);var n,s,u,l=location.href.match(/^https?:\/\/(((\d+\.){3}\d+)|(localhost)):/);if(l){var h=parseInt(location.port);isNaN(h)||(this.path.thingy=l[0]+(h+1))}else"localhost"!==location.hostname&&(this.path.thingy="https://japnaa.github.io/");this.developmentMode=Boolean(l),this.isHandheld=(n=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))),this.isMobile=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(),this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent),this.isEdge=navigator.userAgent.indexOf("Edge/")>0,this.isIE=(s=window.navigator.userAgent).indexOf("MSIE ")>0||s.indexOf("Trident/")>0,this.connectionIsMetered=!!(u=navigator.connection)&&u.saveData,this.serverTimePromise=function(){var t=new XMLHttpRequest;t.open("GET",a),i.a.addResourceLoading(),t.setRequestHeader("cache-control","no-cache, must-revalidate, post-check=0, pre-check=0"),t.setRequestHeader("cache-control","max-age=0"),t.setRequestHeader("expires","0"),t.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT"),t.setRequestHeader("pragma","no-cache");var e=new Promise((function(e,n){t.addEventListener("load",(function(){var r=t.getResponseHeader("Date");r?e(new Date(r)):n("No date in header"),i.a.addResourceLoaded()})),t.addEventListener("error",(function(){n(),i.a.addResourceLoaded()}))}));return t.send(),e}(),this.serverTimePromise.then((function(e){return t.serverTime=e})),this.settingsChangeHandlers=new r.a,this.restoreSettingsFromLocalStorage()}return t.prototype.getServerTime=function(){return this.serverTime?Promise.resolve(this.serverTime):this.serverTimePromise},t.prototype.onSettingsChanged=function(t){this.settingsChangeHandlers.add(t)},t.prototype.offSettingsChanged=function(t){this.settingsChangeHandlers.remove(t)},t.prototype._dispatchSettingsChanged=function(){this.saveSettingsToLocalStorage(),this.settingsChangeHandlers.dispatch()},t.prototype.insertBaseUrl=function(t,e){var n,r,o=Object.keys(e);if(!0!==e.notRelative)try{for(var i=u(o),a=i.next();!a.done;a=i.next()){var c=a.value;"string"==typeof e[c]?e[c]=Object(s.resolve)(t,e[c]):"object"==typeof e[c]&&this.insertBaseUrl(t,e[c])}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.saveSettingsToLocalStorage=function(){localStorage[this.localStorageSettingsKey]=JSON.stringify(this.settings)},t.prototype.restoreSettingsFromLocalStorage=function(){var t=localStorage[this.localStorageSettingsKey];if(t){var e;try{e=JSON.parse(t)}catch(t){return void console.warn("Error while parsing localstorage; value ignored",t)}this.restoreSettings(this.settings,e)}},t.prototype.restoreSettings=function(t,e){var n,r,o=Object.keys(t);try{for(var i=u(o),a=i.next();!a.done;a=i.next()){var s=a.value;typeof t[s]==typeof e[s]&&("object"!=typeof e[s]?t[s]=e[s]:this.restoreSettings(t[s],e[s]))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t}());e.a=l},31:function(t,e,n){t.exports={notMobile:"notMobile__11FJFindex",mobile:"mobile__2BUzbindex",main:"main__2XDd9index",view:"view__rAODKindex",widget:"widget__1w3e-index"}},32:function(t,e,n){"use strict";function r(t){return t&&"card"===t.type}n.d(e,"a",(function(){return r}))},33:function(t,e,n){"use strict";var r,o=n(54),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){return t.call(this,"No route exists: "+e)||this}return i(e,t),e}(o.a);e.a=a},4:function(t,e,n){"use strict";var r=n(31),o=n.n(r),i=function(){function t(){}return t.prototype.setup=function(){var t=this.cssName||this.constructor.name;this.elm.classList.add(o.a.widget),this.elm.classList.add(t),this.cssName=t},t.prototype.destory=function(){},t.prototype.appendTo=function(t){this.parent=t,t.appendChild(this.elm)},t.prototype.canScroll=function(){return this.elm.scrollHeight>this.elm.clientHeight},t}();e.a=i},42:function(t,e,n){"use strict";var r=n(24),o=n.n(r),i=function(){function t(){}return t.prototype.build=function(){if(void 0===this.viewPath&&void 0===this.hash)throw new Error("Missing viewName");var t=this.viewPath,e=this.stateData;return void 0===this.viewPath&&this.hash?t=this.hash:this.hash&&(e?e+=this.hash:e=this.hash),{viewPath:t,stateData:e,directURL:this.directURL,id:this.id}},t}(),a=n(3);function s(t){var e,n=new i;if(e="string"==typeof t?o.a.parse(t):t,n.hash=e.hash,e.pathname){var r=e.pathname.slice(1)+(e.search||""),s=r.indexOf(a.a.viewStateSeparator);
//! siteConfig.viewStateSeparator is not part of core, and should be removed
if(s<0)n.viewPath=r;else{var c=r.slice(0,s),u=decodeURIComponent(r.slice(s+1));n.viewPath=c,n.stateData=u}try{return n.build()}catch(t){return}}}n.d(e,"a",(function(){return s}))},43:function(t,e,n){"use strict";function r(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey}n.d(e,"a",(function(){return r}))},5:function(t,e,n){"use strict";var r,o=n(6),i=function(){function t(t){this.hooks=t,this.loaded=!1,this.loadHandlers=new o.a,this.errorHandlers=new o.a}return t.prototype.onLoad=function(t){return this.loaded&&!this.error?t(this):this.loadHandlers.add(t),this},t.prototype.onError=function(t){return this.loaded&&this.error?t(this):this.errorHandlers.add(t),this},t.prototype._isStillLoaded=function(){return!0},t.prototype.onLoadHandler=function(){this.loaded=!0,this.dispatchLoadEvent(),this.hooks.onLoad(this)},t.prototype.onErrorHandler=function(t){this.error=t,this.loaded=!0,this.dispathErrorEvent(),this.hooks.onError(this)},t.prototype.dispatchLoadEvent=function(){this.loadHandlers.dispatch(this)},t.prototype.dispathErrorEvent=function(){if(!this.errorHandlers.hasAny()&&this.loadHandlers.hasAny())throw console.error("Throwing resource load error",this),new Error("Unhandled resource load error");console.warn("Failed to load resource",this),this.errorHandlers.dispatch(this)},t}(),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.data=document.createElement("img"),r.path=n,r.data.src=n,r.data.addEventListener("load",(function(){return r.onLoadHandler()})),r.data.addEventListener("error",(function(t){return r.onErrorHandler(t.error||new Error("Failed to load image"))})),r}return a(e,t),e.prototype._isStillLoaded=function(){return this.data.complete},e.prototype.copyImage=function(){return this.data.cloneNode()},e}(i),c=function(t,e){this.onLoad=t,this.onError=e},u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(){return t.call(this)||this}return u(e,t),e.prototype.dispatch=function(t){for(var e;e=this.handlers.shift();)e(t)},e}(o.a),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.path=n,o.__debugFlag=r,o.req=o.getText(n),o}return h(e,t),e.prototype.getText=function(t){var e=this,n=new XMLHttpRequest;return n.open("GET",t),n.responseType="text",n.addEventListener("load",(function(){e.data=n.responseText,n.status>=400?e.onErrorHandler(new Error("Failed to load "+e.path+": "+n.status+" ("+n.statusText+")")):e.onLoadHandler()})),n.addEventListener("error",(function(){e.onErrorHandler(new Error("Failed to load "+e.path+", not connected to internet?"))})),this.__debugFlag||n.send(),n},e}(i),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.path=n,r||o.getJSON(n),o}return d(e,t),e.prototype.getJSON=function(t){var e=this,n=new XMLHttpRequest;n.open("GET",t),n.responseType="text",n.addEventListener("load",(function(){if(n.status>=400)e.onErrorHandler(new Error("Failed to load "+e.path+": "+n.status+" ("+n.statusText+")"));else{try{e.data=JSON.parse(n.responseText)}catch(t){return void e.onErrorHandler(t)}e.onLoadHandler()}})),n.addEventListener("error",(function(){e.onErrorHandler(new Error("Failed to load "+e.path+", not connected to internet?"))})),n.send()},e}(i),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.path=n,o.type=r||"text/xml",o.getXML(n),o}return y(e,t),e.prototype.getXML=function(t){var e=this,n=new XMLHttpRequest;n.open("GET",t),n.responseType="text",n.addEventListener("load",(function(){if(n.status>=400)e.onErrorHandler(new Error("Failed to load "+e.path+": "+n.status+" ("+n.statusText+")"));else{var t=new DOMParser;try{e.data=t.parseFromString(n.responseText,e.type)}catch(t){e.onErrorHandler(t)}e.onLoadHandler()}})),n.addEventListener("error",(function(){e.onErrorHandler(new Error("Failed to load "+e.path+", not connected to internet?"))})),n.send()},e}(i),w=n(23),g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},x=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t},k=new(function(){function t(){this.toBeLoaded=0,this.loaded=0,this.resources=new Map,this.hooks=new c(this.onLoadHandler.bind(this),this.onErrorHandler.bind(this)),this.newResourceHandlers=new o.a,this.doneHandlers=new o.a,this.doneEventOnceHandlers=new l,this.progressChangeHandlers=new o.a}return t.prototype.getResource=function(t){return this.resources.get(t)},t.prototype.getProgress=function(){return{total:this.toBeLoaded,loaded:this.loaded,num:this.loaded/this.toBeLoaded}},t.prototype.onNewResource=function(t){this.newResourceHandlers.add(t)},t.prototype.offNewResource=function(t){this.newResourceHandlers.remove(t)},t.prototype.isDone=function(){return this.toBeLoaded<=this.loaded},t.prototype.onDone=function(t){this.doneHandlers.add(t)},t.prototype.offDone=function(t){this.doneHandlers.remove(t)},t.prototype.nextIdle=function(){return g(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,Object(w.a)(50)];case 1:return t.sent(),this.isDone()?[3,5]:[3,2];case 2:return[4,this.nextDone()];case 3:t.sent(),t.label=4;case 4:return[3,0];case 5:return[2]}}))}))},t.prototype.nextDone=function(){return g(this,void 0,void 0,(function(){var t=this;return m(this,(function(e){switch(e.label){case 0:return this.isDone()?[3,2]:[4,new Promise((function(e){return t.doneEventOnceHandlers.add((function(){return e()}))}))];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.onDoneOnce=function(t){this.doneEventOnceHandlers.add(t)},t.prototype.onProgressChange=function(t){this.progressChangeHandlers.add(t)},t.prototype.offProgressChange=function(t){this.progressChangeHandlers.remove(t)},t.prototype.loadImage=function(t){return this.loadResource(t,s)},t.prototype.loadText=function(t){return this.loadResource(t,p)},t.prototype.loadJSON=function(t){return this.loadResource(t,f)},t.prototype.loadXML=function(t,e){return this.loadResource(t,v,e)},t.prototype.loadImagePromise=function(t){return this.promisify(this.loadResource(t,s))},t.prototype.loadTextPromise=function(t){return this.promisify(this.loadResource(t,p))},t.prototype.loadJSONPromise=function(t){return this.promisify(this.loadResource(t,f))},t.prototype.loadXMLPromise=function(t,e){return this.promisify(this.loadResource(t,v,e))},t.prototype.addResourceLoading=function(){this.toBeLoaded++,this.newResourceHandlers.dispatch(void 0),this.progressChangeHandlers.dispatch()},t.prototype.addResourceLoaded=function(){this.onLoadHandler()},t.prototype.deleteResource=function(t){return!!this.resources.has(t)&&(this.resources.delete(t),!0)},t.prototype.__debug_setResource=function(t,e){this.resources.set(t,e)},t.prototype.__debug_getHooks=function(){return this.hooks},t.prototype.promisify=function(t){return new Promise((function(e,n){t.onLoad((function(t){e(t.data)})),t.onError((function(t){n(t.error)}))}))},t.prototype.loadResource=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this.resources.get(t);if(o)return o;var i=new(e.bind.apply(e,x([void 0,this.hooks,t],n)));return this.resources.set(t,i),this.toBeLoaded++,this.newResourceHandlers.dispatch(i),this.progressChangeHandlers.dispatch(),i},t.prototype.onLoadHandler=function(){this.loaded++,this.checkDone()},t.prototype.onErrorHandler=function(){this.loaded++,this.checkDone()},t.prototype.checkDone=function(){this.progressChangeHandlers.dispatch(),this.isDone()&&this.onDoneHandler()},t.prototype.onDoneHandler=function(){this.doneHandlers.dispatch(),this.doneEventOnceHandlers.dispatch()},t}());e.a=k},53:function(t,e,n){"use strict";function r(t){return t&&"2"===t.formatVersion}n.d(e,"a",(function(){return r}))},54:function(t,e,n){"use strict";var r=function(){function t(t){this.internalErrorObj=new Error(t),this.name=this.internalErrorObj.name,this.message=this.internalErrorObj.message,this.stack=this.internalErrorObj.stack||this.message}return t.prototype.toString=function(){return this.name+": "+this.message},t}();e.a=r},55:function(t,e,n){"use strict";function r(t,e){return{x:t||0,y:e||0}}n.d(e,"a",(function(){return r}))},6:function(t,e,n){"use strict";var r=function(){function t(){this.handlers=[]}return t.prototype.add=function(t){this.handlers.push(t)},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);if(e<0)throw new Error("Removing handler that doesn't exist");this.handlers.splice(e,1)},t.prototype.dispatch=function(t){for(var e=this.handlers.length-1;e>=0;e--)this.handlers[e](t)},t.prototype.hasAny=function(){return this.handlers.length>0},t}();e.a=r},60:function(t,e,n){"use strict";var r=n(31),o=n.n(r),i=n(6),a=function(){function t(t){this.resizeHandlers=new i.a,this.viewChangeHandlers=new i.a,this.keydownHandlers=new i.a,this.topViewFullChangeHandlers=new i.a}return t.prototype.onViewChange=function(t){this.viewChangeHandlers.add(t)},t.prototype.offViewChange=function(t){this.viewChangeHandlers.remove(t)},t.prototype.onTopFullViewChange=function(t){this.topViewFullChangeHandlers.add(t)},t.prototype.offTopFullViewChange=function(t){this.topViewFullChangeHandlers.remove(t)},t.prototype.onResize=function(t){this.resizeHandlers.add(t)},t.prototype.offResize=function(t){this.resizeHandlers.remove(t)},t.prototype.onKeydown=function(t){this.keydownHandlers.add(t)},t.prototype.offKeydown=function(t){this.keydownHandlers.remove(t)},t.prototype.dispatchViewChange=function(){this.viewChangeHandlers.dispatch()},t.prototype.dispatchTopFullViewChange=function(){this.topViewFullChangeHandlers.dispatch()},t.prototype.dispatchResize=function(){this.resizeHandlers.dispatch()},t.prototype.dispatchKeydown=function(t){this.keydownHandlers.dispatch(t)},t}(),s=n(17),c=n(54);var u=n(33),l=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(){function t(t,e,n){this.activeViews=[],this.app=t,this.appEvents=e,this.mainElm=n}return t.prototype.top=function(){return this.activeViews[this.activeViews.length-1]},t.prototype.topFull=function(){for(var t=this.activeViews.length-1;t>=0;t--){var e=this.activeViews[t];if(e.isFullPage)return e}},t.prototype.switchAndInit=function(t,e,n){return l(this,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return[4,this.createAndSetupViewWithFallbacks(t,e,n)];case 1:return r=o.sent(),this.switch(r.view),[2,r.view]}}))}))},t.prototype.open=function(t,e,n){return l(this,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return[4,this.createAndSetupViewWithFallbacks(t,e,n)];case 1:return r=o.sent(),this.add(r.view),[2,r.view]}}))}))},t.prototype.openBehind=function(t,e,n){return l(this,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return[4,this.createAndSetupViewWithFallbacks(t,e,n)];case 1:return r=o.sent(),this.addBehind(r.view),[2,r.view]}}))}))},t.prototype.switch=function(t){this.closeAllViews(),this.addBehind(t)},t.prototype.addBehind=function(t){t.appendAtStartTo(this.mainElm),this.activeViews.unshift(t),this.dispatchViewChange()},t.prototype.add=function(t){t.appendTo(this.mainElm),this.activeViews.push(t),this.dispatchViewChange()},t.prototype.closeAllViews=function(){var t,e;try{for(var n=p(this.activeViews),r=n.next();!r.done;r=n.next()){var o=r.value;this.triggerClose(o)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.activeViews.length=0},t.prototype.closeAllViewsExcept=function(t){var e,n;try{for(var r=p(this.activeViews),o=r.next();!o.done;o=r.next()){var i=o.value;i!==t&&this.close(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.close=function(t){var e=this.activeViews.indexOf(t);if(e<0)throw new Error("Attempt to remove view not in activeViews");this.activeViews.splice(e,1),this.triggerClose(t)},t.prototype.getA=function(t){var e=t.toLowerCase();return this.activeViews.find((function(t){return e===t.viewPath}))},t.prototype.getById=function(t){return this.activeViews.find((function(e){return e.id===t}))},t.prototype.createAndSetupViewWithFallbacks=function(t,e,n){return l(this,void 0,void 0,(function(){var r,o,i;return h(this,(function(a){switch(a.label){case 0:return[4,this.createViewWithFallbacks(t,e)];case 1:r=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,6]),n&&!r.isFallback&&n(r.view),[4,r.view.setup()];case 3:return a.sent(),[3,6];case 4:return o=a.sent(),[4,this.createViewCreationErrorView(o,t,e)];case 5:return(i=a.sent()).setup(),[2,{view:i,isFallback:!0}];case 6:return[2,r]}}))}))},t.prototype.createViewWithFallbacks=function(t,e){return l(this,void 0,void 0,(function(){var n,r,o;return h(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,this.createView(t,e)];case 1:return n=i.sent(),r=!1,[3,7];case 2:return o=i.sent(),console.warn(o),r=!0,o instanceof u.a&&this.app.view404?[4,this.createView(this.app.view404)]:[3,4];case 3:return n=i.sent(),[3,6];case 4:return[4,this.createViewCreationErrorView(o,t,e)];case 5:n=i.sent(),i.label=6;case 6:return[3,7];case 7:return[2,{view:n,isFallback:r}]}}))}))},t.prototype.createView=function(t,e){return l(this,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return[4,this.app.routes.getView(t)];case 1:return n=o.sent(),r="string"==typeof e||void 0===e?Object(s.a)(t,e):e,[2,new n(this.app,r)]}}))}))},t.prototype.createViewCreationErrorView=function(t,e,n){return l(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:if(!this.app.viewError)throw t;return[4,this.createView(this.app.viewError,this.generateErrorString(t,e,n))];case 1:return[2,r.sent()]}}))}))},t.prototype.generateErrorString=function(t,e,n){return function(t){return t instanceof Error?t.stack||t.name+": "+t.message:t instanceof c.a?t.stack:t.toString()}(t)+"\nview: "+e+"\nstate: "+JSON.stringify(n)},t.prototype.triggerClose=function(t){var e=this;t.destory().then((function(){t.removeFrom(e.mainElm)})),this.dispatchViewChange()},t.prototype.dispatchViewChange=function(){this.appEvents.dispatchViewChange(),this.lastFullTopView!==this.topFull()&&this.appEvents.dispatchTopFullViewChange(),this.lastFullTopView=this.topFull()},t}();var f=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},y=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},v=function(){function t(t){this.width=innerWidth,this.height=innerHeight,this.parentApp=t,this.mainElm=document.createElement("div"),this.mainElm.classList.add(o.a.main),this.mainElm.tabIndex=-1,this.events=new a(this),this.views=new d(this,this.events,this.mainElm)}return t.prototype.top=function(){return this.parentApp?this.parentApp.top():this},t.prototype.focus=function(){var t=function(t){for(var e=t;e.parentElement;)e=e.parentElement,t.scrollHeight,t.clientHeight;return null}(this.mainElm);if(t){var e=t.scrollTop,n=t.scrollLeft;this.mainElm.focus({preventScroll:!0}),t.scrollTo(e,n)}},t.prototype.setup=function(){return f(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},t.prototype.destory=function(){return f(this,void 0,void 0,(function(){return y(this,(function(t){return[2]}))}))},t}();e.a=v},62:function(t,e,n){t.exports={GlobalWidgets:"GlobalWidgets__38Rkiglobal"}},63:function(t,e,n){t.exports={MenuButton:"MenuButton__Vja8emenuButton",scrollBarExists:"scrollBarExists__1Xk1SmenuButton",hidden:"hidden__3Zk6ymenuButton"}},71:function(t,e,n){t.exports={TopLoadingBar:"TopLoadingBar__22rF7loadingBar",loading:"loading__1Q2ZNloadingBar",done:"done__2nSdOloadingBar"}},8:function(t,e,n){"use strict";var r=n(31),o=n.n(r),i=n(6),a=n(3),s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function t(t){this.events=t,this.viewChangeHandlers=[],this.topViewChangeHandler=[],this.resizeHandlers=[],this.keydownHandlers=[],this.settingsChangeHandlers=[]}return t.prototype.destory=function(){var t,e,n,r,o,i,c,u,l,h;try{for(var p=s(this.viewChangeHandlers),d=p.next();!d.done;d=p.next()){var f=d.value;this.events.offViewChange(f)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}try{for(var y=s(this.topViewChangeHandler),v=y.next();!v.done;v=y.next()){f=v.value;this.events.offTopFullViewChange(f)}}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}try{for(var w=s(this.resizeHandlers),g=w.next();!g.done;g=w.next()){f=g.value;this.events.offResize(f)}}catch(t){o={error:t}}finally{try{g&&!g.done&&(i=w.return)&&i.call(w)}finally{if(o)throw o.error}}try{for(var m=s(this.keydownHandlers),b=m.next();!b.done;b=m.next()){f=b.value;this.events.offKeydown(f)}}catch(t){c={error:t}}finally{try{b&&!b.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}try{for(var x=s(this.settingsChangeHandlers),k=x.next();!k.done;k=x.next()){f=k.value;a.a.offSettingsChanged(f)}}catch(t){l={error:t}}finally{try{k&&!k.done&&(h=x.return)&&h.call(x)}finally{if(l)throw l.error}}},t.prototype.onViewChange=function(t){this.events.onViewChange(t),this.viewChangeHandlers.push(t)},t.prototype.offViewChange=function(t){this.events.offViewChange(t),this.viewChangeHandlers.splice(this.viewChangeHandlers.indexOf(t),1)},t.prototype.onTopFullViewChange=function(t){this.events.onTopFullViewChange(t)},t.prototype.offTopFullViewChange=function(t){this.events.offTopFullViewChange(t),this.topViewChangeHandler.splice(this.topViewChangeHandler.indexOf(t),1)},t.prototype.onResize=function(t){this.events.onResize(t),this.resizeHandlers.push(t)},t.prototype.offResize=function(t){this.events.offResize(t),this.resizeHandlers.splice(this.viewChangeHandlers.indexOf(t),1)},t.prototype.onKeydown=function(t){this.events.onKeydown(t),this.keydownHandlers.push(t)},t.prototype.offKeydown=function(t){this.events.offKeydown(t),this.keydownHandlers.splice(this.keydownHandlers.indexOf(t),1)},t.prototype.onSettingsChange=function(t){a.a.onSettingsChanged(t),this.settingsChangeHandlers.push(t)},t.prototype.offSettingsChange=function(t){a.a.offSettingsChanged(t),this.settingsChangeHandlers.splice(this.settingsChangeHandlers.indexOf(t),1)},t}(),u=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},l=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(){function t(e,n){this.isFullPage=!1,this.showMenuButton=!0,this.app=e,this.events=new c(e.events),this.destoryHandlers=new i.a,this.viewPath=this.app.routes.fixViewPath(n.viewPath),this.id=n.id||t.vidCounter++,this.active=!1,this.privateData=n.privateData||{},this.viewComponents=[]}return t.prototype.setup=function(){var t,e;this.elm.classList.add(o.a.view),this.elm.classList.add(this.cssName),this.isFullPage&&this.app.url.pushHistory(this);try{for(var n=h(this.viewComponents),r=n.next();!r.done;r=n.next()){r.value.setup()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.app.focus(),this.active=!0},t.prototype.destory=function(){return u(this,void 0,void 0,(function(){var t,e,n,r;return l(this,(function(o){this.destoryHandlers.dispatch(),this.events.destory();try{for(t=h(this.viewComponents),e=t.next();!e.done;e=t.next())e.value.destory()}catch(t){n={error:t}}finally{try{e&&!e.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return this.active=!1,[2]}))}))},t.prototype.appendTo=function(t){t.appendChild(this.elm)},t.prototype.appendAtStartTo=function(t){t.insertBefore(this.elm,t.firstChild)},t.prototype.removeFrom=function(t){t.removeChild(this.elm)},t.prototype.canScroll=function(){return this.elm.scrollHeight>this.elm.clientHeight},t.prototype.getTitle=function(){},t.prototype.getState=function(){},t.prototype.setState=function(t){return!1},t.prototype.getPrivateData=function(){var t,e;try{for(var n=h(this.viewComponents),r=n.next();!r.done;r=n.next()){r.value.updatePrivateData()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.privateData},t.prototype.onDestory=function(t){this.destoryHandlers.add(t)},t.prototype.offDestory=function(t){this.destoryHandlers.remove(t)},t.prototype.updateState=function(){this.app.url.update()},t.vidCounter=0,t}();e.a=p},9:function(t,e,n){"use strict";var r=n(3),o=n(24),i=n.n(o);function a(t,e){return/^(?:[a-z]+:)?\/\//.test(t)?t:i.a.resolve(e||r.a.path.base,t)}n.d(e,"a",(function(){return a}))},95:function(t,e,n){"use strict";n.r(e);var r,o=n(62),i=n.n(o),a=n(4),s=n(63),c=n.n(s),u=n(5),l=n(3),h=n(9),p=n(43),d=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n=t.call(this)||this;return n.cssName=c.a.MenuButton,n.app=e,n.elm=document.createElement("div"),n.anchor=document.createElement("a"),n.isLoadingMenu=!1,n}return d(e,t),e.prototype.setup=function(){t.prototype.setup.call(this);var e=u.a.loadImage(l.a.path.img.hamburger).copyImage();e.alt="Menu icon",this.anchor.appendChild(e),this.anchor.title="Menu (Esc)",this.anchor.href=Object(h.a)("/menu"),this.elm.appendChild(this.anchor),this.addEventHandlers()},e.prototype.destory=function(){t.prototype.destory.call(this),this.removeEventHandlers()},e.prototype.addEventHandlers=function(){var t=this;this.viewChangeHandler=this.viewChangeHandler.bind(this),this.keydownHandler=this.keydownHandler.bind(this),this.app.events.onViewChange(this.viewChangeHandler),this.app.events.onResize(this.viewChangeHandler),this.app.events.onKeydown(this.keydownHandler),u.a.onDone(this.viewChangeHandler),this.anchor.addEventListener("click",(function(e){Object(p.a)(e)||(e.preventDefault(),t.toggleMenu())}))},e.prototype.removeEventHandlers=function(){this.app.events.offViewChange(this.viewChangeHandler),this.app.events.offResize(this.viewChangeHandler),this.app.events.offKeydown(this.keydownHandler),u.a.offDone(this.viewChangeHandler)},e.prototype.viewChangeHandler=function(){this.updateState()},e.prototype.keydownHandler=function(t){t.cancelBubble||27===t.keyCode&&this.toggleMenu()},e.prototype.updateState=function(){var t=this.app.views.top();t?(t.canScroll()&&!l.a.isMobile?this.elm.classList.add(e.scrollBarExistsClass):this.elm.classList.remove(e.scrollBarExistsClass),t.showMenuButton?this.elm.classList.remove(e.hiddenClass):this.elm.classList.add(e.hiddenClass)):(this.elm.classList.remove(e.scrollBarExistsClass),this.elm.classList.remove(e.hiddenClass))},e.prototype.toggleMenu=function(){if(!this.isLoadingMenu){var t=this.app.views.getA("Menu");t?this.app.views.close(t):(this.isLoadingMenu=!0,this.app.views.open("Menu").then((function(t){return t.animateTransitionIn()})),this.isLoadingMenu=!1)}},e.hiddenClass=c.a.hidden,e.scrollBarExistsClass=c.a.scrollBarExists,e}(a.a),y=n(71),v=n.n(y),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(e){var n=t.call(this)||this;return n.cssName=v.a.TopLoadingBar,n.app=e,n.elm=document.createElement("div"),n.lastDoneLoaded=0,n.lastProgress=0,n.markDoneTimeout=-1,n.markLoadingTimeout=-1,n}return w(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.addEventHandlers()},e.prototype.destory=function(){t.prototype.destory.call(this)},e.prototype.addEventHandlers=function(){var t=this;u.a.onProgressChange((function(){t.setProgress(u.a.getProgress())}))},e.prototype.setProgress=function(t){var n=t.loaded-this.lastDoneLoaded,r=t.total-this.lastDoneLoaded,o=n/r,i=n/(r+3);i>=this.lastProgress&&(this.elm.style.width=e.minBarLength+i*(100-e.minBarLength)+"%",this.lastProgress=i),o<1?this.waitThenMarkLoading():this.waitThenMarkDone()},e.prototype.waitThenMarkLoading=function(){this.cancelMarkDone(),this.markLoadingTimeout<0&&(this.markLoadingTimeout=window.setTimeout(this.markLoading.bind(this),e.timeToWaitBeforeSetLoading))},e.prototype.waitThenMarkDone=function(){this.cancelMarkDone(),this.cancelMarkLoading(),this.markDoneTimeout=window.setTimeout(this.markDone.bind(this),e.timeToIdle)},e.prototype.markLoading=function(){this.elm.classList.remove(v.a.done),this.elm.classList.add(v.a.loading)},e.prototype.markDone=function(){var t=this;this.elm.style.width="100%",this.lastProgress=0,requestAnimationFrame((function(){return requestAnimationFrame((function(){t.elm.classList.add(v.a.done),window.setTimeout((function(){t.elm.classList.remove(v.a.loading),t.elm.style.width="0",t.lastDoneLoaded=u.a.getProgress().loaded}),e.transitionSpeed)}))}))},e.prototype.cancelMarkDone=function(){clearTimeout(this.markDoneTimeout),this.markDoneTimeout=-1},e.prototype.cancelMarkLoading=function(){clearTimeout(this.markLoadingTimeout),this.markLoadingTimeout=-1},e.transitionSpeed=500,e.timeToIdle=100,e.timeToWaitBeforeSetLoading=25,e.minBarLength=17,e}(a.a),m=function(){function t(t){var e=this;this.bindings={191:function(){return e.openIfNot("CommandPalette","/")},80:function(){return e.openIfNot("CommandPalette")}},this.shiftBindings={51:function(){return e.openIfNot("CommandPalette","#")}},this.app=t}return t.prototype.setup=function(){this.keydownHandler=this.keydownHandler.bind(this),this.app.events.onKeydown(this.keydownHandler)},t.prototype.destory=function(){this.app.events.offKeydown(this.keydownHandler)},t.prototype.keydownHandler=function(t){var e;t.cancelBubble||(t.target instanceof HTMLElement&&"INPUT"===t.target.tagName||(t.shiftKey?(e=this.shiftBindings[t.keyCode])&&e():(e=this.bindings[t.keyCode])&&e()))},t.prototype.openIfNot=function(t,e,n){this.app.views.getA(t)||this.app.views.open(t,e,n)},t}(),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e){var n=t.call(this)||this;return n.cssName=i.a.GlobalWidgets,n.app=e,n.globalKeybindings=new m(e),n.menuButton=new f(e),n.loadingBar=new g(e),n.elm=document.createElement("div"),n}return b(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.globalKeybindings.setup(),this.menuButton.setup(),this.loadingBar.setup(),this.menuButton.appendTo(this.elm),this.loadingBar.appendTo(this.elm)},e.prototype.destory=function(){t.prototype.destory.call(this),this.globalKeybindings.setup(),this.menuButton.destory(),this.loadingBar.destory()},e}(a.a);e.default=x}}]);