"use strict";(self.webpackChunkjapnaa_github_io=self.webpackChunkjapnaa_github_io||[]).push([[55],{8055:(t,e,r)=>{r.r(e),r.d(e,{default:()=>_});const n="hexagonsBackground__YSBh7HexagonsBackground";var o=r(8416);const i=function(){function t(e,r){this.x=Math.random()*e,this.y=Math.random()*r,this.rotation=Math.random(),this.vx=Math.random()-.5,this.vy=Math.random()-.5;var n=Math.random()+.1;this.width=n*t.baseWidth,this.height=n*t.baseHeight,this.vrotation=.1*(Math.random()-.5)}return t.baseWidth=64,t.baseHeight=64,t.rotationMax=2*Math.PI/6,t}();var a=r(721),h=r(7584);const s=function(){function t(t){this.width=0,this.height=0,this.hexagons=t}return t.prototype.resize=function(t,e){this.width=t,this.height=e},t}();var c,u=(c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},c(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const f=function(t){function e(e,r){var n=t.call(this,e)||this,o=a.Z.loadImage(h.Z.path.img.hexagon);return n.X=r,n.hexagonImg=o.data,n.hexagonImgPrerender=document.createElement("canvas"),o.onLoad((function(){n.prerenderHexagon(i.baseWidth,i.baseHeight)})),n}return u(e,t),e.prototype.prerenderHexagon=function(t,e){var r=this.hexagonImgPrerender.getContext("2d");this.hexagonImgPrerender.width=t,this.hexagonImgPrerender.height=e,r.drawImage(this.hexagonImg,0,0,t,e)},e.prototype.run=function(){var t,e;this.X.clearRect(0,0,this.width,this.height);try{for(var r=p(this.hexagons),n=r.next();!n.done;n=r.next()){var o=n.value,a=o.rotation*i.rotationMax;this.X.save(),this.X.translate(o.x,o.y),this.X.rotate(a),this.X.drawImage(this.hexagonImgPrerender,-o.width/2,-o.height/2,o.width,o.height),this.X.globalAlpha=o.rotation,this.X.rotate(-i.rotationMax),this.X.drawImage(this.hexagonImgPrerender,-o.width/2,-o.height/2,o.width,o.height),this.X.restore()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e}(s);var l=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const d=function(t){function e(e){var r=t.call(this,e)||this;return r.then=performance.now(),r}return l(e,t),e.prototype.resize=function(t,e){this.width=t,this.height=e},e.prototype.run=function(){var t,e,r=performance.now(),n=(r-this.then)/60;this.then=r,n>10&&(n=1);var o=this.width+i.baseWidth,a=this.height+i.baseHeight,h=-i.baseWidth,s=-i.baseHeight;try{for(var c=y(this.hexagons),u=c.next();!u.done;u=c.next()){var p=u.value;p.x+=p.vx*n,p.y+=p.vy*n,p.rotation+=p.vrotation*n,p.x>o?p.x=h:p.x<h&&(p.x=o),p.y>a?p.y=s:p.y<s&&(p.y=a),p.rotation>1?p.rotation%=1:p.rotation<0&&(p.rotation+=1)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}},e}(s);var g=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};const w=function(t){function e(e){var r=t.call(this,e)||this;return r.prevHeight=-1,r.prevWidth=-1,r}return g(e,t),e.prototype.run=function(){var t,e,r,n;if(this.width!==this.prevWidth&&this.prevWidth>0)try{for(var o=v(this.hexagons),i=o.next();!i.done;i=o.next()){(s=i.value).x=s.x/this.prevWidth*this.width}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}if(this.height!==this.prevHeight&&this.prevHeight>0)try{for(var a=v(this.hexagons),h=a.next();!h.done;h=a.next()){var s;(s=h.value).y=s.y/this.prevHeight*this.height}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}this.prevHeight=this.height,this.prevWidth=this.width},e}(s);var m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const x=function(t){function e(e,r){var n=t.call(this,e)||this;return n.renderSystem=new f(e,r),n.tickSystem=new d(e),n.resizeSystem=new w(e),n}return m(e,t),e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.renderSystem.resize(e,r),this.tickSystem.resize(e,r),this.resizeSystem.resize(e,r),this.resizeSystem.run()},e.prototype.run=function(){this.renderSystem.run(),this.tickSystem.run()},e}(s);var b=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const _=function(t){function e(e){var r=t.call(this)||this;return r.cssName=n,r.elm=document.createElement("canvas"),r.app=e,r.hexagons=[],r.width=0,r.height=0,r.systems=new x(r.hexagons,r.getX()),r}return b(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.reqanf(),this.addEventHandlers(),this.resizeHandler(),this.createHexagons()},e.prototype.getX=function(){var t=this.elm.getContext("2d");if(!t)throw new Error("Canvas not supported");return t},e.prototype.addEventHandlers=function(){this.resizeHandler=this.resizeHandler.bind(this),this.app.events.onResize(this.resizeHandler)},e.prototype.resizeHandler=function(){this.elm.width=this.width=this.app.width,this.elm.height=this.height=this.app.height,this.systems.resize(this.width,this.height)},e.prototype.reqanf=function(){var t=this;this.draw(),requestAnimationFrame((function(){return t.reqanf()}))},e.prototype.draw=function(){this.systems.run()},e.prototype.createHexagons=function(){for(var t=0;t<100;t++)this.hexagons.push(new i(this.width,this.height))},e}(o.Z)}}]);