(window.webpackJsonp=window.webpackJsonp||[]).push([[12,21],{11:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(7);function i(t,e){var r=t.getBoundingClientRect(),i=e||Object(n.a)(0,0,innerWidth,innerHeight);return r.top<i.height&&r.top+r.height>i.y&&r.left<i.width&&r.left+r.width>i.x}},12:function(t,e,r){"use strict";function n(t){for(;t.firstChild;)t.removeChild(t.firstChild)}r.d(e,"a",(function(){return n}))},131:function(t,e,r){"use strict";r.r(e);var n,i=r(94),o=r.n(i),a=r(10),s=r(40),l=r(46),u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},h=function(){function t(){this.documents=[],this.allWords=new Map}return t.prototype.addDocument=function(e,r){var n,i,o,a,s,l,h=new Map;try{for(var d=u(r),f=d.next();!f.done;f=d.next()){var p=c(f.value,2),y=p[0],v=p[1],m=t.stringOrArrayToTokens(v),g=y/m.length;try{for(var w=(o=void 0,u(m)),b=w.next();!b.done;b=w.next()){var C=b.value;if(!t.isStopWord(C)){var x=h.get(C);x?h.set(C,x+g):h.set(C,g)}}}catch(t){o={error:t}}finally{try{b&&!b.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}try{for(var E=u(h),j=E.next();!j.done;j=E.next()){var S=c(j.value,2),R=S[0],T=S[1],O=this.allWords.get(R);O?this.allWords.set(R,O+T):this.allWords.set(R,T)}}catch(t){s={error:t}}finally{try{j&&!j.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}return this.documents.push([e,h]),h},t.prototype.query=function(e){var r,n,i=t.stringOrArrayToTokens(e),o=i.pop(),a=i.length,s=[];try{for(var l=u(this.documents),h=l.next();!h.done;h=l.next()){var d=c(h.value,2),f=d[0],p=d[1],y=this.calcScore(i,a,p);o&&(y+=this.calcPartialTokenScore(o,p)),y>.1&&s.push([f,y])}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s.sort((function(t,e){return e[1]-t[1]})),s.map((function(t){return t[0]}))},t.prototype.calcScore=function(t,e,r){var n,i,o=0;try{for(var a=u(t),s=a.next();!s.done;s=a.next()){var l=s.value,c=r.get(l);if(c)o+=c/this.allWords.get(l)/e}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},t.prototype.calcPartialTokenScore=function(e,r){var n,i,o=0;try{for(var a=u(r),s=a.next();!s.done;s=a.next()){var h=c(s.value,2),d=h[0],f=h[1],p=Object(l.a)(e,d);if(!(p<0||p>t.looseMatchScoreCutoff))o+=f/this.allWords.get(d)/(p+1)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},t.stringOrArrayToTokens=function(e){return Array.isArray(e)?e.map((function(t){return t.toLowerCase()})):t.stringToTokens(e).filter((function(e){return e&&!t.isStopWord(e)}))},t.stringToTokens=function(t){return t.toLowerCase().split(/[^a-z0-9]+/g)},t.isStopWord=function(t){return this.isStopWordMap[t]},t.isStopWordMap={a:!0,about:!0,above:!0,after:!0,again:!0,against:!0,all:!0,am:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,before:!0,being:!0,below:!0,between:!0,both:!0,but:!0,by:!0,can:!0,did:!0,do:!0,does:!0,doing:!0,don:!0,down:!0,during:!0,each:!0,few:!0,for:!0,from:!0,further:!0,had:!0,has:!0,have:!0,having:!0,he:!0,her:!0,here:!0,hers:!0,herself:!0,him:!0,himself:!0,his:!0,how:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,itself:!0,just:!0,me:!0,more:!0,most:!0,my:!0,myself:!0,no:!0,nor:!0,not:!0,now:!0,of:!0,off:!0,on:!0,once:!0,only:!0,or:!0,other:!0,our:!0,ours:!0,ourselves:!0,out:!0,over:!0,own:!0,s:!0,same:!0,she:!0,should:!0,so:!0,some:!0,such:!0,t:!0,than:!0,that:!0,the:!0,their:!0,theirs:!0,them:!0,themselves:!0,then:!0,there:!0,these:!0,they:!0,this:!0,those:!0,through:!0,to:!0,too:!0,under:!0,until:!0,up:!0,very:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,you:!0,your:!0,yours:!0,yourself:!0,yourselves:!0},t.looseMatchScoreCutoff=8,t}(),d=r(8),f=r(32),p=r(53),y=r(12),v=r(3),m=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},w=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},b=function(t){return this instanceof b?(this.v=t,this):new b(t)},C=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||s(t,e)}))})}function s(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(t){c(o[0][3],t)}var r}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}},x=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},j=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.cssName=o.a.Search,n.isFullPage=!0,n.query=r.stateData||"",n.elm=document.createElement("div"),n.inputContainer=n.createInputContainer(),n.inputElm=n.createInput(),n.resultsContainer=document.createElement("div"),n.updateTimeoutHandle=-1,n.tfidfCache=new Map,n}return m(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.inputContainer.appendChild(this.inputElm),this.elm.appendChild(this.inputContainer),this.elm.appendChild(this.resultsContainer),this.inputElm.value=this.query,this.inputElm.focus(),this.addEventHandlers(),this.update()},e.prototype.destory=function(){return g(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,t.prototype.destory.call(this)];case 1:return e.sent(),this.projectsGrid&&this.projectsGrid.destory(),[2]}}))}))},e.prototype.getState=function(){if(this.query)return this.query},e.prototype.getTitle=function(){return this.query||void 0},e.prototype.setState=function(t){return this.query=t||"",this.update(),!0},e.prototype.createInputContainer=function(){var t=document.createElement("div");return t.classList.add(o.a.inputContainer),t},e.prototype.createInput=function(){var t=document.createElement("input");return t.classList.add(o.a.input),t.placeholder="Type to search...",t},e.prototype.addEventHandlers=function(){var t=this;this.inputElm.addEventListener("input",(function(){t.query=t.inputElm.value,t.updateOnTimeout()})),this.events.onResize((function(){t.projectsGrid&&t.resizeProjectsGrid(t.projectsGrid)})),this.events.onKeydown((function(e){1===e.key.length&&(t.inputElm.focus(),e.stopPropagation())}))},e.prototype.updateOnTimeout=function(){var t=this;clearTimeout(this.updateTimeoutHandle),this.updateTimeoutHandle=window.setTimeout((function(){t.update()}),e.queryDelay)},e.prototype.update=function(){this.projectsGrid&&(this.projectsGrid.destory(),Object(y.a)(this.resultsContainer)),this.projectsGrid=new s.default(this.app,this.projectsGridCallback(this.query)),this.projectsGrid.setup(),this.resizeProjectsGrid(this.projectsGrid),this.projectsGrid.appendTo(this.resultsContainer),this.updateState()},e.prototype.resizeProjectsGrid=function(t){t.resize(this.app.width,this.app.height-e.inputHeight)},e.prototype.projectsGridCallback=function(t){return C(this,arguments,(function(){var e,r,n,i,o,s,l,u,c,h,d;return w(this,(function(f){switch(f.label){case 0:return this.query.trim().length<=0?[4,b(void 0)]:[3,2];case 1:return[2,f.sent()];case 2:return[4,b(a.a.getProjectsIndex())];case 3:e=f.sent(),r=e.end,f.label=4;case 4:return r>=e.start?[4,b(this.getTfidf(r))]:[3,19];case 5:return n=f.sent(),[4,b(a.a.getFileForYear(r))];case 6:i=f.sent(),o=n.query(t),f.label=7;case 7:f.trys.push([7,16,17,18]),h=void 0,s=x(o),l=s.next(),f.label=8;case 8:return l.done?[3,15]:"number"!=typeof(u=l.value)?[3,11]:[4,b({index:u,year:r,project:i.data[u]})];case 9:return[4,f.sent()];case 10:return f.sent(),[3,14];case 11:return[4,b(u)];case 12:return[4,f.sent()];case 13:f.sent(),f.label=14;case 14:return l=s.next(),[3,8];case 15:return[3,18];case 16:return c=f.sent(),h={error:c},[3,18];case 17:try{l&&!l.done&&(d=s.return)&&d.call(s)}finally{if(h)throw h.error}return[7];case 18:return r--,[3,4];case 19:return[2]}}))}))},e.prototype.getTfidf=function(t){return g(this,void 0,void 0,(function(){var e,r,n,i,o;return w(this,(function(s){switch(s.label){case 0:return(e=this.tfidfCache.get(t))?[2,e]:[4,Promise.all([a.a.getFileForYear(t),a.a.getLinksForYear(t)])];case 1:return r=E.apply(void 0,[s.sent(),2]),n=r[0],i=r[1],o=this.createTfIdf(n,i),this.tfidfCache.set(t,o),[2,o]}}))}))},e.prototype.createTfIdf=function(t,e){var r,n,i=new h;Object(p.a)(t)?this.addV2ListingDocuments(i,t):this.addV1ListingDocuments(i,t);try{for(var o=x(e),a=o.next();!a.done;a=o.next()){var s=a.value;i.addDocument(s,[[5,s.name],[1,s.href]])}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},e.prototype.addV2ListingDocuments=function(t,e){for(var r=0;r<e.data.length;r++){var n=e.data[r],i=[[5,n.head.name],[5,n.head.no.toString()]];n.head.tags&&i.push([3,n.head.tags]),n.head.author&&i.push([1,n.head.author]),n.head.link&&i.push([1,n.head.link]),n.head.shortDescription&&i.push([2,n.head.shortDescription]),t.addDocument(r,i)}},e.prototype.addV1ListingDocuments=function(t,e){for(var r=0;r<e.data.length;r++){var n=e.data[r];Object(f.a)(n)&&t.addDocument(r,[[5,n.name],[5,n.no.toString()],[2,n.tags],[1,n.author],[1,n.content.description],[1,n.content.link]])}},e.queryDelay=200,e.inputHeight=v.a.cssVars.stickyBarHeight,e}(d.a);e.default=j},21:function(t,e,r){t.exports={projectsGrid:"projectsGrid__38JosprojectsGrid",positionableProjectCard:"positionableProjectCard__2Fz0kprojectsGrid"}},40:function(t,e,r){"use strict";r.r(e);var n=r(21),i=r.n(n),o=r(7);function a(t,e,r){return{x:t,y:e,width:r}}var s,l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(){function t(t,e){this.gridColumns=t,this.gridRows=0,this.allElements=[],this.grid=[],this.minElmWidth=e||1,this.firstOpenRow=0,this.addGridRow()}return t.prototype.addElement=function(t,e,r){var n=function(t,e,r){return{elm:t,width:e,height:r}}(t,e,r);return this.allElements.push(n),this.putElementOnGrid(n)},t.prototype.resizeGridColumns=function(t){var e,r;if(t!==this.gridColumns){this.grid.length=0,this.gridColumns=t,this.firstOpenRow=0,this.addGridRow();try{for(var n=l(this.allElements),i=n.next();!i.done;i=n.next()){var o=i.value;this.putElementOnGrid(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}},t.prototype.setMinElmWidth=function(t){this.minElmWidth=t},t.prototype.putElementOnGrid=function(t){var e=this.findPositionForElementWithWidth(t.width),r=this.putElementOnPosition(t,e);return t.rect=r,r},t.prototype.findPositionForElementWithWidth=function(t){var e=this.getPossibleRanges(),r=e.possibleRanges;return e.maxRangeWidth<t?this.findPositionForElementWithWidthTooBig(t,r):this.findPositionForElementWithWidthBigEnough(t,r)},t.prototype.findPositionForElementWithWidthTooBig=function(t,e){var r,n,i=0,o=null;try{for(var s=l(e),u=s.next();!u.done;u=s.next()){var c=u.value,h=c.width;h>i&&(i=h,o=c)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!o||o.width<this.minElmWidth?(this.addGridRow(),a(0,this.gridRows-1,Math.min(t,this.gridColumns))):o},t.prototype.findPositionForElementWithWidthBigEnough=function(e,r){var n,i,o=this.gridColumns+1,s=null;try{for(var u=l(r),c=u.next();!c.done;c=u.next()){var h=c.value,d=h.width;d>=e&&d<o&&(o=d,s=h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return s.width-e>t.tolerance?a(s.x,s.y,e):s},t.prototype.putElementOnPosition=function(t,e){for(var r=0;r<t.height;r++){var n=r+e.y;n>=this.gridRows&&this.addGridRow();for(var i=this.grid[n],a=0;a<e.width;a++)i[a+e.x]=t.elm}return this.updateFirstOpenRow(),Object(o.a)(e.x,e.y,e.width,t.height)},t.prototype.updateFirstOpenRow=function(){var t,e,r=this.getLastBlockIndexes();this.firstOpenRow=0;for(var n=this.gridRows-1;n>=0;n--){var i=0;try{for(var o=(t=void 0,l(r)),a=o.next();!a.done;a=o.next()){a.value<n&&i++}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}if(!(i>=this.minElmWidth))break;this.firstOpenRow=n}},t.prototype.getPossibleRanges=function(){for(var t,e,r=[],n=this.getLastBlockIndexes(),i=this.firstOpenRow;i<this.gridRows;i++){for(var o=void 0,s=!1,u=0;u<this.gridColumns;u++)(s=n[u]<i)?void 0===o&&(o=u):void 0!==o&&(r.push(a(o,i,u-o)),o=void 0);s&&void 0!==o&&r.push(a(o,i,this.gridColumns-o))}var c=0;try{for(var h=l(r),d=h.next();!d.done;d=h.next()){var f=d.value;f.width>c&&(c=f.width)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}return{possibleRanges:r,maxRangeWidth:c}},t.prototype.getLastBlockIndexes=function(){for(var t=function(t,e){var r=[];if(e)for(var n=0;n<t;n++)r[n]=e;else r.length=t;return r}(this.gridColumns,-1),e=0;e<this.gridColumns;e++)for(var r=this.gridRows-1;r>=0;r--)if(null!==this.grid[r][e]){t[e]=r;break}return t},t.prototype.addGridRow=function(){for(var t=[],e=0;e<this.gridColumns;e++)t[e]=null;this.gridRows=this.grid.push(t)},t.tolerance=1,t}(),c=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(t){function e(e,r,n,i){var o=t.call(this,e,i)||this;return o.columnWidth=r/o.gridColumns,o.rowHeight=n,o}return c(e,t),e.prototype.addElement=function(e,r,n){var i=Math.min(r,this.gridColumns),o=t.prototype.addElement.call(this,e,i,n),a=this.scaleRectToReal(o);return e.setRect(a),a},e.prototype.resizeGridColumns=function(e){t.prototype.resizeGridColumns.call(this,e),this.callAllElementsToResize()},e.prototype.resizeElementSize=function(t,e){this.columnWidth=t/this.gridColumns,this.rowHeight=e,this.callAllElementsToResize()},e.prototype.getFirstElementAt=function(t){var e=Math.ceil(t/this.rowHeight);return this.getFirstElementInRow(this.grid[e])},e.prototype.isAfterFirstOpenRow=function(t){return t>this.firstOpenRow*this.rowHeight},e.prototype.scaleRectToReal=function(t){return{x:t.x*this.columnWidth,y:t.y*this.rowHeight,width:t.width*this.columnWidth,height:t.height*this.rowHeight}},e.prototype.callAllElementsToResize=function(){var t,e;try{for(var r=h(this.allElements),n=r.next();!n.done;n=r.next()){var i=n.value;if(!i.rect)return;i.elm.setRect(this.scaleRectToReal(i.rect))}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.getFirstElementInRow=function(t){var e,r;if(!t)return null;try{for(var n=h(t),i=n.next();!i.done;i=n.next()){var o=i.value;if(o)return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return null},e}(u);var f=r(37),p=r(4),y=r(10),v=r(39),m=r(11),g=function(){function t(t,e){this.app=t,this.elm=document.createElement("div"),this.elm.classList.add(i.a.positionableProjectCard),this.projectCardWidget=new v.default(t,e),this.projectCard=this.projectCardWidget.projectCard}return t.prototype.setup=function(){this.projectCardWidget.setup(),this.projectCardWidget.appendTo(this.elm)},t.prototype.appendTo=function(t){t.appendChild(this.elm)},t.prototype.setRect=function(t){this.elm.style.top=t.y+"px",this.elm.style.left=t.x+"%",this.elm.style.width=t.width+"%",this.elm.style.height=t.height+"px"},t.prototype.getClientRect=function(){var t=this.elm.getBoundingClientRect();return Object(o.a)(t.left,t.top,t.width,t.height)},t.prototype.isVisible=function(t){return Object(m.a)(this.elm,t)},t}(),w=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),b=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function s(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},C=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},x=function(t){function e(r,n){var o=t.call(this)||this;return o.cssName=i.a.projectsGrid,o.app=r,o.elm=document.createElement("div"),o.projectCards=[],o.grid=new d(e.initalColumns,100,r.width/e.initalColumns,2),o.cardGenerator=n||y.a.cardAndLinkGeneratorLatestWithLocation(),o.addingToScreenFull=!1,o.width=0,o.height=0,o}return w(e,t),e.prototype.setup=function(){return b(this,void 0,void 0,(function(){return C(this,(function(e){return t.prototype.setup.call(this),this.addCardsUntilScreenFull(),this.elm.addEventListener("scroll",this.scrollHandler.bind(this)),[2]}))}))},e.prototype.resize=function(t,r){var n=Math.max(e.minColumns,Math.floor(t/e.minColWidth)),i=this.grid.getFirstElementAt(this.elm.scrollTop),o=i?i.getClientRect().y:0;if(this.width=t,this.height=r,this.grid.gridColumns!==n&&this.grid.resizeGridColumns(n),this.grid.resizeElementSize(100,t/n),i){var a=i.getClientRect().y;this.elm.scrollBy(0,a-o)}this.elm.style.width=t+"px",this.elm.style.height=r+"px",this.addCardsIfAtEnd()},e.prototype.isOverflowing=function(){return this.elm.scrollHeight>this.elm.clientHeight},e.prototype.scrollHandler=function(){this.addCardsIfAtEnd()},e.prototype.addCardsIfAtEnd=function(){var t=this.elm.scrollTop+this.elm.clientHeight;this.grid.isAfterFirstOpenRow(t)&&this.addCardsUntilScreenFull()},e.prototype.addCardsUntilScreenFull=function(){return b(this,void 0,void 0,(function(){var t,e,r;return C(this,(function(n){switch(n.label){case 0:if(this.addingToScreenFull)return[2];t=0,this.addingToScreenFull=!0,e=this.getViewportRect(),n.label=1;case 1:return[4,this.addNextCard()];case 2:if(!(r=n.sent()))return[3,3];if(r.isVisible(e))t=0;else if(++t>5)return this.app.events.dispatchViewChange(),[3,3];return[3,1];case 3:return this.addingToScreenFull=!1,[2]}}))}))},e.prototype.getViewportRect=function(){var t=this.elm.getBoundingClientRect();return Object(o.a)(t.left,t.top,this.width,this.height)},e.prototype.addNextCard=function(){return b(this,void 0,void 0,(function(){var t,e,r,n;return C(this,(function(i){switch(i.label){case 0:e=!1,i.label=1;case 1:return[4,this.cardGenerator.next()];case 2:r=i.sent(),t=r.value,e=r.done,i.label=3;case 3:if(!Object(f.a)(t)&&(!(o=t)||"string"!=typeof o.name||"string"!=typeof o.href)&&!e)return[3,1];i.label=4;case 4:return e?[2,void 0]:(n=new g(this.app,t),[4,this.addCard(n)]);case 5:return i.sent(),[2,n]}var o}))}))},e.prototype.addCard=function(t){return b(this,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return this.projectCards.push(t),t.appendTo(this.elm),t.setup(),[4,t.projectCard.load()];case 1:return e.sent(),this.grid.addElement(t,t.projectCard.width,t.projectCard.height),[2,t]}}))}))},e.minColWidth=128,e.minColumns=4,e.initalColumns=11,e}(p.a);e.default=x},46:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(t,e){var r,i,o=e.length,a=t.toLowerCase(),s=e.toLowerCase(),l=0,u=0;try{t:for(var c=n(a),h=c.next();!h.done;h=c.next()){for(var d=h.value;l<o;){if(s[l]===d){l++;continue t}u++,l++}return-1}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u}},7:function(t,e,r){"use strict";function n(t,e,r,n){return{x:t||0,y:e||0,width:r||0,height:n||0}}r.d(e,"a",(function(){return n}))},94:function(t,e,r){t.exports={Search:"Search__y5f9YSearch",inputContainer:"inputContainer__3yhFhSearch",input:"input__1yJQSSearch"}}}]);