"use strict";(self.webpackChunkjapnaa_github_io=self.webpackChunkjapnaa_github_io||[]).push([[678],{6678:(t,e,n)=>{n.r(e),n.d(e,{default:()=>M});const r={projectCardContainer:"projectCardContainer__wSGIYprojectCard",projectCard:"projectCard__eCnkeprojectCard",link:"link__O5BiKprojectCard",description:"description__ugdy1projectCard",card:"card__xnY6SprojectCard",textMustBeBlack:"textMustBeBlack__jrzLnprojectCard",mouseover:"mouseover__vDLVlprojectCard",background:"background__cipwzprojectCard",v1:"v1__DzXOJprojectCard",heroTransitionIn:"heroTransitionIn__MPXR4projectCard",backgroundOverlay:"backgroundOverlay__snVXEprojectCard",textContainer:"textContainer__x9zERprojectCard",title:"title__aYVb5projectCard"};var o=n(8416),i=n(66),a=n(7105),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};const s=function(){function t(e){this.widgetName=t.widgetName,this.touchMovedAfterDown=!1,this.focused=!1,this.mouseover=!1,this.app=e,this.elm=document.createElement("div"),this.elm.classList.add(r.projectCard),this.cardElm=document.createElement("a"),this.cardElm.classList.add(r.card),this.elm.appendChild(this.cardElm)}return t.prototype.setup=function(){this.width=Math.max(2,this.width),this.width=Math.max(2,this.height),this.href&&(this.cardElm.href=this.href);var t={passive:!0};this.cardElm.addEventListener("mouseover",this.mouseoverHandler.bind(this)),this.cardElm.addEventListener("mouseout",this.mouseoutHandler.bind(this)),this.cardElm.addEventListener("touchstart",this.touchstartHandler.bind(this),t),this.cardElm.addEventListener("touchmove",this.touchmoveHandler.bind(this),t),this.cardElm.addEventListener("touchend",this.touchendHandler.bind(this)),this.cardElm.addEventListener("focus",this.focusHandler.bind(this)),this.cardElm.addEventListener("blur",this.blurHandler.bind(this)),this.cardElm.addEventListener("click",this.clickHandler.bind(this))},t.prototype.appendTo=function(t){t.appendChild(this.elm)},t.prototype.load=function(){return c(this,void 0,void 0,(function(){return u(this,(function(t){return this.cardElm.appendChild(this.createBackground()),this.addContent(),[2]}))}))},t.prototype.clickHandler=function(t){(0,a.Z)(t)||(t.preventDefault(),this.linkClickHandler())},t.prototype.createBackground=function(){var t=document.createElement("div");return t.classList.add(r.background),t.style.backgroundColor="transparent",t},t.prototype.addContent=function(){var t=document.createElement("div");t.appendChild(this.createContentBackgroundOverlay()),t.appendChild(this.createTextContainer()),this.cardElm.appendChild(t)},t.prototype.createContentBackgroundOverlay=function(){var t=document.createElement("div");return t.classList.add(r.backgroundOverlay),this.cardElm.style.backgroundColor&&(t.style.backgroundColor=this.cardElm.style.backgroundColor),t},t.prototype.createTextContainer=function(){var t=document.createElement("div");return t.classList.add(r.textContainer),t.appendChild(this.createContentTitle()),t.appendChild(this.createContentDescription()),t},t.prototype.createContentTitle=function(){var t=document.createElement("h2");return t.classList.add(r.title),t.innerText=this.cardTitle,t},t.prototype.createContentDescription=function(){var t=document.createElement("div");t.classList.add(r.description),t.setAttribute("aria-hidden",this.isContentDescriptionImportant?"false":"true"),this.contentDescriptionElm=t;var e=document.createElement("p");return e.innerHTML=this.cardDescription,this.contentDescriptionTextElm=e,t.appendChild(e),t},t.prototype.touchstartHandler=function(t){this.touchMovedAfterDown=!1},t.prototype.touchmoveHandler=function(){this.touchMovedAfterDown=!0},t.prototype.touchendHandler=function(t){this.touchMovedAfterDown||(t.preventDefault(),document.activeElement===this.cardElm?this.linkClickHandler():this.cardElm.focus())},t.prototype.focusHandler=function(){this.focused=!0,this.updateMouseoverStyleState()},t.prototype.blurHandler=function(){this.focused=!1,this.updateMouseoverStyleState()},t.prototype.mouseoverHandler=function(){this.mouseover=!0,this.updateMouseoverStyleState()},t.prototype.mouseoutHandler=function(){this.mouseover=!1,this.updateMouseoverStyleState()},t.prototype.updateMouseoverStyleState=function(){this.focused||this.mouseover?this.addMouseoverStyles():this.removeMouseoverStyles()},t.prototype.addMouseoverStyles=function(){this.cardElm.classList.add(r.mouseover),this.contentDescriptionElm&&this.contentDescriptionTextElm&&(this.contentDescriptionElm.style.height=this.contentDescriptionTextElm.getBoundingClientRect().height+"px")},t.prototype.removeMouseoverStyles=function(){this.cardElm.classList.remove(r.mouseover),this.contentDescriptionElm&&(this.contentDescriptionElm.style.height="0")},t.widgetName="projectCard",t}();var l=n(7275);function d(t){return t.replace(/[a-zA-Z](?=[A-Z])/g,"$&â€‹")}var p,h=(p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},p(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const f=function(t){function e(e,n,o){var i=t.call(this,e)||this;i.isContentDescriptionImportant=!1;var a=Math.ceil(.5*Math.sqrt(n.length));return i.elm.classList.add(r.link),i.width=a,i.height=a,i.cardTitle=d(n),i.cardDescription=o,i.href=o,i}return h(e,t),e.prototype.linkClickHandler=function(){(0,l.Z)(this.href)},e}(s);var y=n(7584),v=n(721),m=n(2181),g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};var w=n(5034),k=n(439),C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},E=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};const x=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.isContentDescriptionImportant=!0,i.card=n,i.year=r,i.index=o,i.width=3,i.height=3,i.cardTitle=d(i.getCardTitle(n)),i.cardDescription=i.getCardDescription(n),i.href=(0,w.Z)((0,k.Z)("project/info",i.year+"."+i.index)),i.cardLinkClicked=!1,i}return C(e,t),e.prototype.load=function(){return _(this,void 0,void 0,(function(){var n;return E(this,(function(r){switch(r.label){case 0:return this.backgroundImage=this.getBackgroundImage(),this.backgroundImage?(this.backgroundImageSrc=this.getBackgroundImageSrcFromBackgroundImage(this.backgroundImage),this.backgroundImageSrc?[4,v.Z.loadImagePromise(this.backgroundImageSrc)]:[3,2]):[3,2];case 1:n=r.sent(),this.height=Math.round(Math.sqrt(e.size*n.height/n.width)),this.width=Math.round(Math.sqrt(e.size*n.width/n.height)),r.label=2;case 2:return[2,t.prototype.load.call(this)]}}))}))},e.prototype.getBackgroundImageSrcFromBackgroundImage=function(t){return y.Z.path.thingy+t},e.prototype.setBackgroundImage=function(t,e){t.style.backgroundImage="url("+y.Z.path.thingy+e+")"},e.prototype.createBackground=function(){if(!this.backgroundImage)return t.prototype.createBackground.call(this);var e=t.prototype.createBackground.call(this);return this.setBackgroundImage(e,this.backgroundImage),e},e.prototype.linkClickHandler=function(){this.cardLinkClicked||(this.cardLinkClicked=!0,function(t,e,n,r,o,i){var a,c,u=this;c=(a=n).getBoundingClientRect(),a.style.position="fixed",a.style.top=c.top+"px",a.style.left=c.left+"px",a.style.width=c.width+"px",a.style.height=c.height+"px",requestAnimationFrame((function(){return requestAnimationFrame((function(){return g(u,void 0,void 0,(function(){var a,c;return b(this,(function(u){switch(u.label){case 0:return a=(0,m.Z)(y.Z.cssVars.heroTransitionInTime),function(t){t.style.top="",t.style.left="",t.style.width="",t.style.height=""}(n),n.classList.add(e.heroTransitionIn),[4,t.views.createAndSetupViewWithFallbacks(r,o)];case 1:return c=u.sent(),[4,v.Z.nextDone()];case 2:return u.sent(),[4,a];case 3:return u.sent(),t.views.add(c.view),c.isFallback||i(c.view).then((function(){return t.views.closeAllViewsExcept(c.view)})),[2]}}))}))}))}))}(this.app,r,this.cardElm,"project/info",this.year+"."+this.index,(function(t){return t.transitionFadeIn()})))},e.size=20,e}(s);var j=n(1995),S=/^url\((.+)\)$/;var I=n(9606),T=n(1049),D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const L=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return D(e,t),e.prototype.getCardTitle=function(t){return t.head.name},e.prototype.getCardDescription=function(t){return t.head.shortDescription||t.head.link||t.head.author&&"by "+t.head.author[0]||""},e.prototype.getBackgroundImage=function(){if(this.card.head.background)for(var t=this.card.head.background.length;t>=0;t--){var e=this.card.head.background[t];if((0,j.Z)(e))return e}},e.prototype.getBackgroundImageSrcFromBackgroundImage=function(t){var e=function(t){var e=t.match(S);if(e)return e[1]}(t);if(e)return(0,T.Z)(e,y.Z.path.thingy)},e.prototype.setBackgroundImage=function(t,e){t.style.backgroundImage=(0,I.Z)(y.Z.path.thingy,e)},e}(x);const O=function(){function t(){}return t.createCard=function(t,e){return new L(t,e.project,e.year,e.index)},t.createLink=function(t,e,n){return new f(t,e,n)},t}();var B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const M=function(t){function e(e,n){var o=t.call(this)||this;return o.cssName=r.projectCardContainer,o.app=e,o.elm=document.createElement("div"),(0,i.Z)(n)?o.projectCard=O.createCard(e,n):o.projectCard=O.createLink(e,n.name,n.href),o}return B(e,t),e.prototype.setup=function(){t.prototype.setup.call(this),this.projectCard.setup(),this.projectCard.appendTo(this.elm)},e}(o.Z)},1995:(t,e,n)=>{n.d(e,{Z:()=>o});var r=/^.*(gradient|url).*\(.+?\)$/i;function o(t){return r.test(t)}},9606:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(1049);function o(t,e){if(!e.toLowerCase().startsWith("url("))return e;var n=e.slice(4,-1);return"url("+(0,r.Z)(n,t)+")"}},66:(t,e,n)=>{function r(t){return t&&"number"==typeof t.year&&"number"==typeof t.index&&t.project}n.d(e,{Z:()=>r})},7275:(t,e,n)=>{n.d(e,{Z:()=>i});var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function i(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){return(e=open(t,"_blank"))?(e.opener=null,[2]):(console.warn("Window could not be opened"),location.assign(t),[2])}))}))}}}]);