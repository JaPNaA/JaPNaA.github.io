(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{12:function(t,e,n){"use strict";function r(t){for(;t.firstChild;)t.removeChild(t.firstChild)}n.d(e,"a",(function(){return r}))},13:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t.head&&t.body}n.d(e,"a",(function(){return r}))},130:function(t,e,n){"use strict";n.r(e);var r=n(91),o=n.n(r),i=n(15),a=n.n(i),c=n(10);var u=n(32),l=n(13),s=n(22);var f,p=n(12),h=n(3),d=n(5),y=n(24),v=n.n(y),g=n(8),b=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.cssName=o.a.ProjectDirectory,r.isFullPage=!0,r.elm=document.createElement("div"),r.container=r.createContainer(),r.title=r.createTitle(),r.pageContent=r.createPageContent(),r.linkProjectMatchMap=new Map,n.stateData?r.contentHref=r.getHrefFromState(n.stateData):r.contentHref=h.a.path.thingy+h.a.path.repo.thingy,r}return b(e,t),e.prototype.setup=function(){return w(this,void 0,void 0,(function(){return m(this,(function(e){return t.prototype.setup.call(this),this.loadContentHref(),this.elm.appendChild(this.container),this.addEventHandlers(),[2]}))}))},e.prototype.getState=function(){return this.cleanPath()},e.prototype.setState=function(t){return t&&this.changeContentToView(this.getHrefFromState(t)),!0},e.prototype.canScroll=function(){return!0},e.prototype.createContainer=function(){var t=document.createElement("div");return t.classList.add(a.a.longTextContainer),t},e.prototype.createTitle=function(){var t=document.createElement("h1");return t.classList.add(o.a.title),t.innerText=e.defaultTitle,this.container.appendChild(t),t},e.prototype.createPageContent=function(){var t=document.createElement("div");return this.container.appendChild(t),t},e.prototype.addEventHandlers=function(){this.linkClickHandler=this.linkClickHandler.bind(this),this.container.addEventListener("click",this.linkClickHandler)},e.prototype.cleanPath=function(){var t=v.a.parse(this.contentHref).path;return t?(t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t):""},e.prototype.getHrefFromState=function(t){return h.a.path.thingy+"/"+t+"/"},e.prototype.linkClickHandler=function(t){var e=function(t){if(!(t instanceof Element))return null;for(var e=t;;){if(!e)return null;if("A"===e.tagName&&"href"in e)return e.href;e=e.parentElement}}(t.target);if(e){var n=this.navigate(e);t.preventDefault(),n&&this.markAsLoading(t.target)}},e.prototype.markAsLoading=function(t){t.classList.add(o.a.loading)},e.prototype.navigate=function(t){var e,n,r,o,i,a=v.a.parse(t),c=a.hostname===location.hostname,u=this.getPathDepth(a.path);return c?u<=1?(this.changeContentToView(t),!0):(this.handleNavigateProjectLink(t),!1):((i=open(t,"_blank","width="+(e||innerWidth-64)+", height="+(n||innerHeight-64)+", left="+(r||screenLeft+32)+", top="+(o||screenTop+32)))&&(i.opener=null),!1)},e.prototype.handleNavigateProjectLink=function(t){var e=this.linkProjectMatchMap.get(t);e?this.openProjectView(e):Object(s.a)(t)},e.prototype.getPathDepth=function(t){var e,n;if(!t)return 0;var r=t.split("/"),o=0;try{for(var i=k(r),a=i.next();!a.done;a=i.next()){a.value&&o++}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o},e.prototype.changeContentToView=function(t){this.contentHref=t,this.app.url.pushHistory(this),this.loadContentHref()},e.prototype.loadContentHref=function(){var t=this;d.a.loadXML(this.contentHref,"text/html").onLoad((function(e){return t.setPageContent(e.data)})).onError((function(e){return location.replace(t.contentHref)}))},e.prototype.openProjectView=function(t){return w(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,this.app.views.switchAndInit("project/info",void 0,(function(e){return e.setProject(t.data,t.year,t.index)}))];case 1:return e.sent(),[2]}}))}))},e.prototype.setPageContent=function(t){var e=t.body.children[0].cloneNode(!0);Object(p.a)(this.pageContent),this.pageContent.appendChild(e),this.setTitle(t.title),this.transformLinks(e),this.app.events.dispatchViewChange()},e.prototype.setTitle=function(t){this.title.innerText=t||e.defaultTitle},e.prototype.transformLinks=function(t){for(var e=t.getElementsByTagName("a"),n=function(t){var n=e[t],i=n.getAttribute("href");if(i){var a=v.a.resolve(r.contentHref,i);n.href=a,r.mapLinkToProject(a).then((function(t){t&&n.classList.add(o.a.hasProjectInfo)}))}},r=this,i=0;i<e.length;i++)n(i)},e.prototype.mapLinkToProject=function(t){var e=this,n=v.a.parse(t).path,r=this.getPathDepth(n);return new Promise((function(n){2===r?e.findMatchingEntry(t).then((function(r){e.linkProjectMatchMap.set(t,r),n(Boolean(r))})):n(!1)}))},e.prototype.findMatchingEntry=function(t){return w(this,void 0,void 0,(function(){var e,n,r,o;return m(this,(function(i){switch(i.label){case 0:return(e=this.getYear(t))?[4,c.a.getFileForYear(e)]:[2];case 1:if(!(n=i.sent().data))return[2];for(r=0;r<n.length;r++)if(o=n[r],Object(u.a)(o)){if(v.a.resolve(h.a.path.thingy,o.content.link)===t)return[2,{year:parseInt(e),index:r,data:o}]}else if(Object(l.a)(o)&&o.head.link&&v.a.resolve(h.a.path.thingy,o.head.link)===t)return[2,{year:parseInt(e),index:r,data:o}];return[2]}}))}))},e.prototype.getYear=function(t){var e=t.match(/Thingy_(\d+)/);return e?e[1]:null},e.defaultTitle="Project directory",e}(g.a);e.default=P},15:function(t,e,n){t.exports={longTextContainer:"longTextContainer__2Glixcommon",flatButton:"flatButton__InH9Bcommon"}},22:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(16),o=n(17),i=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}u((r=r.apply(t,e||[])).next())}))},a=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function c(t){return i(this,void 0,void 0,(function(){var e,n;return a(this,(function(i){return e=Object(r.a)(Object(o.a)("FrameView",t)),(n=open(e,"_blank"))?(n.opener=null,[2]):(console.warn("Window could not be opened"),location.assign(e),[2])}))}))}},91:function(t,e,n){t.exports={ProjectDirectory:"ProjectDirectory__2JSYfDirectory",hasProjectInfo:"hasProjectInfo__39PuvDirectory",title:"title__154DSDirectory",loading:"loading__1MNJMDirectory"}}}]);